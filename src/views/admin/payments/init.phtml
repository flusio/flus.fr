<?php
    $this->layout('admin.phtml', [
        'title' => 'Créer un nouveau paiement',
        'current_page' => 'admin payments',
    ]);
?>

<section class="panel">
    <div class="wrapper wrapper--small flow flow--larger">
        <h1>
            Nouveau paiement
        </h1>

        <form
            method="post"
            action="<?= url('create admin payment') ?>"
            class="flow flow--large"
        >
            <?php if ($error): ?>
                <p class="form__error">
                    Erreur&nbsp;:
                    <?= $error ?>
                </p>
            <?php endif; ?>

            <div class="flow flow--small">
                <label for="email">
                    Adresse courriel
                </label>

                <?php if (isset($errors['email'])): ?>
                    <p class="form-group__error" id="email-error">
                        Erreur&nbsp;:
                        <?= $errors['email'] ?>
                    </p>
                <?php endif; ?>

                <input
                    id="email"
                    name="email"
                    type="email"
                    value="<?= $email ?>"
                    required
                    <?php if (isset($errors['email'])): ?>
                        aria-invalid="true"
                        aria-errormessage="email-error"
                    <?php endif; ?>
                />
            </div>

            <div class="flow flow--small">
                <label for="amount">
                    Sélectionner un montant
                </label>

                <?php if (isset($errors['amount'])): ?>
                    <p class="form-group__error" id="amount-error">
                        <?= $errors['amount'] ?>
                    </p>
                <?php endif; ?>

                <div>
                    <input
                        id="amount"
                        class="input--size1"
                        name="amount"
                        type="number"
                        step="1"
                        min="1"
                        value="<?= $amount ?>"
                        <?php if (isset($errors['amount'])): ?>
                            aria-invalid="true"
                            aria-errormessage="amount-error"
                        <?php endif; ?>
                    />
                </div>
            </div>

            <div class="text--center">
                <button type="submit" class="button--primary">
                    Créer le paiement
                </button>
            </div>

            <input type="hidden" name="csrf" value="<?= $csrf_token ?>" />
        </form>
    </div>
</section>
