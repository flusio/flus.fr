(()=>{var Li=`(function(){"use strict";const d=new TextEncoder;function p(e){return[...new Uint8Array(e)].map(t=>t.toString(16).padStart(2,"0")).join("")}async function b(e,t,r){if(typeof crypto>"u"||!("subtle"in crypto)||!("digest"in crypto.subtle))throw new Error("Web Crypto is not available. Secure context is required (https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts).");return p(await crypto.subtle.digest(r.toUpperCase(),d.encode(e+t)))}function w(e,t,r="SHA-256",n=1e6,l=0){const o=new AbortController,a=Date.now();return{promise:(async()=>{for(let c=l;c<=n;c+=1){if(o.signal.aborted)return null;if(await b(t,c,r)===e)return{number:c,took:Date.now()-a}}return null})(),controller:o}}function h(e){const t=atob(e),r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r}function g(e,t=12){const r=new Uint8Array(t);for(let n=0;n<t;n++)r[n]=e%256,e=Math.floor(e/256);return r}async function m(e,t="",r=1e6,n=0){const l="AES-GCM",o=new AbortController,a=Date.now(),s=async()=>{for(let i=n;i<=r;i+=1){if(o.signal.aborted||!c||!u)return null;try{const f=await crypto.subtle.decrypt({name:l,iv:g(i)},c,u);if(f)return{clearText:new TextDecoder().decode(f),took:Date.now()-a}}catch{}}return null};let c=null,u=null;try{u=h(e);const i=await crypto.subtle.digest("SHA-256",d.encode(t));c=await crypto.subtle.importKey("raw",i,l,!1,["decrypt"])}catch{return{promise:Promise.reject(),controller:o}}return{promise:s(),controller:o}}let y;onmessage=async e=>{const{type:t,payload:r,start:n,max:l}=e.data;let o=null;if(t==="abort")y?.abort(),y=void 0;else if(t==="work"){if("obfuscated"in r){const{key:a,obfuscated:s}=r||{};o=await m(s,a,l,n)}else{const{algorithm:a,challenge:s,salt:c}=r||{};o=w(s,c,a,l,n)}y=o.controller,o.promise.then(a=>{self.postMessage(a&&{...a,worker:!0})})}}})();
`,wi=typeof self<"u"&&self.Blob&&new Blob(["(self.URL || self.webkitURL).revokeObjectURL(self.location.href);",Li],{type:"text/javascript;charset=utf-8"});function Ds(r){let e;try{if(e=wi&&(self.URL||self.webkitURL).createObjectURL(wi),!e)throw"";let t=new Worker(e,{name:r?.name});return t.addEventListener("error",()=>{(self.URL||self.webkitURL).revokeObjectURL(e)}),t}catch{return new Worker("data:text/javascript;charset=utf-8,"+encodeURIComponent(Li),{name:r?.name})}}var Ls="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Ls);var Is=1,Bs=4,Rs=8,Vs=16,_s=1,js=2,Qr="[",Ii="[!",Bi="]",wt={},oe=Symbol(),Ps="http://www.w3.org/1999/xhtml",Us=!1;function Ri(r){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}var Vi=Array.isArray,Ks=Array.prototype.indexOf,qs=Array.from,ur=Object.keys,jt=Object.defineProperty,nt=Object.getOwnPropertyDescriptor,zs=Object.getOwnPropertyDescriptors,Hs=Object.prototype,Ws=Array.prototype,_i=Object.getPrototypeOf,Ei=Object.isExtensible,Et=()=>{};function ji(r){for(var e=0;e<r.length;e++)r[e]()}function Gs(r,e,t=!1){return r===void 0?t?e():e:r}var ve=2,Pi=4,vr=8,en=16,De=32,st=64,hr=128,he=256,dr=512,se=1024,ke=2048,at=4096,At=8192,br=16384,Zs=32768,tn=65536,Js=1<<19,Ui=1<<20,qr=1<<21,Vt=Symbol("$state"),Ki=Symbol("legacy props"),Ys=Symbol("");function Xs(r){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Qs(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ea(r){throw new Error("https://svelte.dev/e/effect_orphan")}function ta(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ra(){throw new Error("https://svelte.dev/e/hydration_failed")}function na(r){throw new Error("https://svelte.dev/e/props_invalid_value")}function ia(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function oa(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function sa(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function yr(r){console.warn("https://svelte.dev/e/hydration_mismatch")}var B=!1;function yt(r){B=r}var I;function Ke(r){if(r===null)throw yr(),wt;return I=r}function xt(){return Ke(He(I))}function W(r){if(B){if(He(I)!==null)throw yr(),wt;I=r}}function aa(){for(var r=0,e=I;;){if(e.nodeType===8){var t=e.data;if(t===Bi){if(r===0)return e;r-=1}else(t===Qr||t===Ii)&&(r+=1)}var n=He(e);e.remove(),e=n}}var la=!1;function Pe(r){if(typeof r!="object"||r===null||Vt in r)return r;let e=_i(r);if(e!==Hs&&e!==Ws)return r;var t=new Map,n=Vi(r),i=D(0),s=M,l=c=>{var h=M;Te(s);var d=c();return Te(h),d};return n&&t.set("length",D(r.length)),new Proxy(r,{defineProperty(c,h,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&ia();var m=t.get(h);return m===void 0?(m=l(()=>D(d.value)),t.set(h,m)):y(m,l(()=>Pe(d.value))),!0},deleteProperty(c,h){var d=t.get(h);if(d===void 0)h in c&&(t.set(h,l(()=>D(oe))),Pr(i));else{if(n&&typeof h=="string"){var m=t.get("length"),f=Number(h);Number.isInteger(f)&&f<m.v&&y(m,f)}y(d,oe),Pr(i)}return!0},get(c,h,d){if(h===Vt)return r;var m=t.get(h),f=h in c;if(m===void 0&&(!f||nt(c,h)?.writable)&&(m=l(()=>D(Pe(f?c[h]:oe))),t.set(h,m)),m!==void 0){var b=a(m);return b===oe?void 0:b}return Reflect.get(c,h,d)},getOwnPropertyDescriptor(c,h){var d=Reflect.getOwnPropertyDescriptor(c,h);if(d&&"value"in d){var m=t.get(h);m&&(d.value=a(m))}else if(d===void 0){var f=t.get(h),b=f?.v;if(f!==void 0&&b!==oe)return{enumerable:!0,configurable:!0,value:b,writable:!0}}return d},has(c,h){if(h===Vt)return!0;var d=t.get(h),m=d!==void 0&&d.v!==oe||Reflect.has(c,h);if(d!==void 0||F!==null&&(!m||nt(c,h)?.writable)){d===void 0&&(d=l(()=>D(m?Pe(c[h]):oe)),t.set(h,d));var f=a(d);if(f===oe)return!1}return m},set(c,h,d,m){var f=t.get(h),b=h in c;if(n&&h==="length")for(var E=d;E<f.v;E+=1){var R=t.get(E+"");R!==void 0?y(R,oe):E in c&&(R=l(()=>D(oe)),t.set(E+"",R))}f===void 0?(!b||nt(c,h)?.writable)&&(f=l(()=>D(void 0)),y(f,l(()=>Pe(d))),t.set(h,f)):(b=f.v!==oe,y(f,l(()=>Pe(d))));var V=Reflect.getOwnPropertyDescriptor(c,h);if(V?.set&&V.set.call(m,d),!b){if(n&&typeof h=="string"){var P=t.get("length"),C=Number(h);Number.isInteger(C)&&C>=P.v&&y(P,C+1)}Pr(i)}return!0},ownKeys(c){a(i);var h=Reflect.ownKeys(c).filter(f=>{var b=t.get(f);return b===void 0||b.v!==oe});for(var[d,m]of t)m.v!==oe&&!(d in c)&&h.push(d);return h},setPrototypeOf(){oa()}})}function Pr(r,e=1){y(r,r.v+e)}var Ai,qi,zi,Hi;function zr(){if(Ai===void 0){Ai=window,qi=/Firefox/.test(navigator.userAgent);var r=Element.prototype,e=Node.prototype,t=Text.prototype;zi=nt(e,"firstChild").get,Hi=nt(e,"nextSibling").get,Ei(r)&&(r.__click=void 0,r.__className=void 0,r.__attributes=null,r.__style=void 0,r.__e=void 0),Ei(t)&&(t.__t=void 0)}}function wr(r=""){return document.createTextNode(r)}function pe(r){return zi.call(r)}function He(r){return Hi.call(r)}function G(r,e){if(!B)return pe(r);var t=pe(I);return t===null&&(t=I.appendChild(wr())),Ke(t),t}function It(r,e){if(!B){var t=pe(r);return t instanceof Comment&&t.data===""?He(t):t}return I}function Z(r,e=1,t=!1){let n=B?I:r;for(var i;e--;)i=n,n=He(n);if(!B)return n;var s=n?.nodeType;if(t&&s!==3){var l=wr();return n===null?i?.after(l):n.before(l),Ke(l),l}return Ke(n),n}function ca(r){r.textContent=""}function Wi(r){return r===this.v}function Gi(r,e){return r!=r?e==e:r!==e||r!==null&&typeof r=="object"||typeof r=="function"}function rn(r){return!Gi(r,this.v)}function Er(r){var e=ve|ke,t=M!==null&&(M.f&ve)!==0?M:null;return F===null||t!==null&&(t.f&he)!==0?e|=he:F.f|=Ui,{ctx:ne,deps:null,effects:null,equals:Wi,f:e,fn:r,reactions:null,rv:0,v:null,wv:0,parent:t??F}}function Bt(r){let e=Er(r);return ao(e),e}function ua(r){let e=Er(r);return e.equals=rn,e}function Zi(r){var e=r.effects;if(e!==null){r.effects=null;for(var t=0;t<e.length;t+=1)qe(e[t])}}function ha(r){for(var e=r.parent;e!==null;){if((e.f&ve)===0)return e;e=e.parent}return null}function Ji(r){var e,t=F;ze(ha(r));try{Zi(r),e=ho(r)}finally{ze(t)}return e}function Yi(r){var e=Ji(r),t=(Ue||(r.f&he)!==0)&&r.deps!==null?at:se;be(r,t),r.equals(e)||(r.v=e,r.wv=co())}function da(r){F===null&&M===null&&ea(),M!==null&&(M.f&he)!==0&&F===null&&Qs(),qt&&Xs()}function fa(r,e){var t=e.last;t===null?e.last=e.first=r:(t.next=r,r.prev=t,e.last=r)}function lt(r,e,t,n=!0){var i=F,s={ctx:ne,deps:null,nodes_start:null,nodes_end:null,f:r|ke,first:null,fn:e,last:null,next:null,parent:i,prev:null,teardown:null,transitions:null,wv:0};if(t)try{ln(s),s.f|=Zs}catch(h){throw qe(s),h}else e!==null&&xr(s);var l=t&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null&&(s.f&(Ui|hr))===0;if(!l&&n&&(i!==null&&fa(s,i),M!==null&&(M.f&ve)!==0)){var c=M;(c.effects??=[]).push(s)}return s}function nn(r){let e=lt(vr,null,!1);return be(e,se),e.teardown=r,e}function Hr(r){da();var e=F!==null&&(F.f&De)!==0&&ne!==null&&!ne.m;if(e){var t=ne;(t.e??=[]).push({fn:r,effect:F,reaction:M})}else{var n=on(r);return n}}function pa(r){let e=lt(st,r,!0);return()=>{qe(e)}}function ga(r){let e=lt(st,r,!0);return(t={})=>new Promise(n=>{t.outro?Gr(e,()=>{qe(e),n(void 0)}):(qe(e),n(void 0))})}function on(r){return lt(Pi,r,!1)}function sn(r){return lt(vr,r,!0)}function $e(r,e=[],t=Er){let n=e.map(t);return Xi(()=>r(...n.map(a)))}function Xi(r,e=0){return lt(vr|en|e,r,!0)}function Wr(r,e=!0){return lt(vr|De,r,!0,e)}function Qi(r){var e=r.teardown;if(e!==null){let t=qt,n=M;$i(!0),Te(null);try{e.call(null)}finally{$i(t),Te(n)}}}function eo(r,e=!1){var t=r.first;for(r.first=r.last=null;t!==null;){var n=t.next;(t.f&st)!==0?t.parent=null:qe(t,e),t=n}}function ma(r){for(var e=r.first;e!==null;){var t=e.next;(e.f&De)===0&&qe(e),e=t}}function qe(r,e=!0){var t=!1;(e||(r.f&Js)!==0)&&r.nodes_start!==null&&(to(r.nodes_start,r.nodes_end),t=!0),eo(r,e&&!t),mr(r,0),be(r,br);var n=r.transitions;if(n!==null)for(let s of n)s.stop();Qi(r);var i=r.parent;i!==null&&i.first!==null&&ro(r),r.next=r.prev=r.teardown=r.ctx=r.deps=r.fn=r.nodes_start=r.nodes_end=null}function to(r,e){for(;r!==null;){var t=r===e?null:He(r);r.remove(),r=t}}function ro(r){var e=r.parent,t=r.prev,n=r.next;t!==null&&(t.next=n),n!==null&&(n.prev=t),e!==null&&(e.first===r&&(e.first=n),e.last===r&&(e.last=t))}function Gr(r,e){var t=[];no(r,t,!0),va(t,()=>{qe(r),e&&e()})}function va(r,e){var t=r.length;if(t>0){var n=()=>--t||e();for(var i of r)i.out(n)}else e()}function no(r,e,t){if((r.f&At)===0){if(r.f^=At,r.transitions!==null)for(let l of r.transitions)(l.is_global||t)&&e.push(l);for(var n=r.first;n!==null;){var i=n.next,s=(n.f&tn)!==0||(n.f&De)!==0;no(n,e,s?t:!1),n=i}}}function xi(r){io(r,!0)}function io(r,e){if((r.f&At)!==0){r.f^=At,(r.f&se)===0&&(r.f^=se),zt(r)&&(be(r,ke),xr(r));for(var t=r.first;t!==null;){var n=t.next,i=(t.f&tn)!==0||(t.f&De)!==0;io(t,i?e:!1),t=n}if(r.transitions!==null)for(let s of r.transitions)(s.is_global||e)&&s.in()}}var ba=typeof requestIdleCallback>"u"?r=>setTimeout(r,1):requestIdleCallback,Pt=[],Ut=[];function oo(){var r=Pt;Pt=[],ji(r)}function so(){var r=Ut;Ut=[],ji(r)}function an(r){Pt.length===0&&queueMicrotask(oo),Pt.push(r)}function ya(r){Ut.length===0&&ba(so),Ut.push(r)}function wa(){Pt.length>0&&oo(),Ut.length>0&&so()}var ar=!1,fr=!1,pr=null,it=!1,qt=!1;function $i(r){qt=r}var _t=[],M=null,Oe=!1;function Te(r){M=r}var F=null;function ze(r){F=r}var Se=null;function ao(r){M!==null&&M.f&qr&&(Se===null?Se=[r]:Se.push(r))}var re=null,ue=0,fe=null;function Ea(r){fe=r}var lo=1,gr=0,Ue=!1;function co(){return++lo}function zt(r){var e=r.f;if((e&ke)!==0)return!0;if((e&at)!==0){var t=r.deps,n=(e&he)!==0;if(t!==null){var i,s,l=(e&dr)!==0,c=n&&F!==null&&!Ue,h=t.length;if(l||c){var d=r,m=d.parent;for(i=0;i<h;i++)s=t[i],(l||!s?.reactions?.includes(d))&&(s.reactions??=[]).push(d);l&&(d.f^=dr),c&&m!==null&&(m.f&he)===0&&(d.f^=he)}for(i=0;i<h;i++)if(s=t[i],zt(s)&&Yi(s),s.wv>r.wv)return!0}(!n||F!==null&&!Ue)&&be(r,se)}return!1}function Aa(r,e){for(var t=e;t!==null;){if((t.f&hr)!==0)try{t.fn(r);return}catch{t.f^=hr}t=t.parent}throw ar=!1,r}function Oi(r){return(r.f&br)===0&&(r.parent===null||(r.parent.f&hr)===0)}function Ar(r,e,t,n){if(ar){if(t===null&&(ar=!1),Oi(e))throw r;return}if(t!==null&&(ar=!0),Aa(r,e),Oi(e))throw r}function uo(r,e,t=!0){var n=r.reactions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];Se?.includes(r)||((s.f&ve)!==0?uo(s,e,!1):e===s&&(t?be(s,ke):(s.f&se)!==0&&be(s,at),xr(s)))}}function ho(r){var e=re,t=ue,n=fe,i=M,s=Ue,l=Se,c=ne,h=Oe,d=r.f;re=null,ue=0,fe=null,Ue=(d&he)!==0&&(Oe||!it||M===null),M=(d&(De|st))===0?r:null,Se=null,Ci(r.ctx),Oe=!1,gr++,r.f|=qr;try{var m=(0,r.fn)(),f=r.deps;if(re!==null){var b;if(mr(r,ue),f!==null&&ue>0)for(f.length=ue+re.length,b=0;b<re.length;b++)f[ue+b]=re[b];else r.deps=f=re;if(!Ue)for(b=ue;b<f.length;b++)(f[b].reactions??=[]).push(r)}else f!==null&&ue<f.length&&(mr(r,ue),f.length=ue);if(bo()&&fe!==null&&!Oe&&f!==null&&(r.f&(ve|at|ke))===0)for(b=0;b<fe.length;b++)uo(fe[b],r);return i!==null&&i!==r&&(gr++,fe!==null&&(n===null?n=fe:n.push(...fe))),m}finally{re=e,ue=t,fe=n,M=i,Ue=s,Se=l,Ci(c),Oe=h,r.f^=qr}}function xa(r,e){let t=e.reactions;if(t!==null){var n=Ks.call(t,r);if(n!==-1){var i=t.length-1;i===0?t=e.reactions=null:(t[n]=t[i],t.pop())}}t===null&&(e.f&ve)!==0&&(re===null||!re.includes(e))&&(be(e,at),(e.f&(he|dr))===0&&(e.f^=dr),Zi(e),mr(e,0))}function mr(r,e){var t=r.deps;if(t!==null)for(var n=e;n<t.length;n++)xa(r,t[n])}function ln(r){var e=r.f;if((e&br)===0){be(r,se);var t=F,n=ne,i=it;F=r,it=!0;try{(e&en)!==0?ma(r):eo(r),Qi(r);var s=ho(r);r.teardown=typeof s=="function"?s:null,r.wv=lo;var l=r.deps,c;Us&&la&&r.f&ke}catch(h){Ar(h,r,t,n||r.ctx)}finally{it=i,F=t}}}function $a(){try{ta()}catch(r){if(pr!==null)Ar(r,pr,null);else throw r}}function fo(){var r=it;try{var e=0;for(it=!0;_t.length>0;){e++>1e3&&$a();var t=_t,n=t.length;_t=[];for(var i=0;i<n;i++){var s=Ca(t[i]);Oa(s)}Kt.clear()}}finally{fr=!1,it=r,pr=null}}function Oa(r){var e=r.length;if(e!==0)for(var t=0;t<e;t++){var n=r[t];if((n.f&(br|At))===0)try{zt(n)&&(ln(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?ro(n):n.fn=null))}catch(i){Ar(i,n,null,n.ctx)}}}function xr(r){fr||(fr=!0,queueMicrotask(fo));for(var e=pr=r;e.parent!==null;){e=e.parent;var t=e.f;if((t&(st|De))!==0){if((t&se)===0)return;e.f^=se}}_t.push(e)}function Ca(r){for(var e=[],t=r;t!==null;){var n=t.f,i=(n&(De|st))!==0,s=i&&(n&se)!==0;if(!s&&(n&At)===0){if((n&Pi)!==0)e.push(t);else if(i)t.f^=se;else try{zt(t)&&ln(t)}catch(h){Ar(h,t,null,t.ctx)}var l=t.first;if(l!==null){t=l;continue}}var c=t.parent;for(t=t.next;t===null&&c!==null;)t=c.next,c=c.parent}return e}function A(r){for(var e;;){if(wa(),_t.length===0)return e;fr=!0,fo()}}async function Ur(){await Promise.resolve(),A()}function a(r){var e=r.f,t=(e&ve)!==0;if(M!==null&&!Oe){if(!Se?.includes(r)){var n=M.deps;r.rv<gr&&(r.rv=gr,re===null&&n!==null&&n[ue]===r?ue++:re===null?re=[r]:(!Ue||!re.includes(r))&&re.push(r))}}else if(t&&r.deps===null&&r.effects===null){var i=r,s=i.parent;s!==null&&(s.f&he)===0&&(i.f^=he)}return t&&(i=r,zt(i)&&Yi(i)),qt&&Kt.has(r)?Kt.get(r):r.v}function ot(r){var e=Oe;try{return Oe=!0,r()}finally{Oe=e}}var ka=-7169;function be(r,e){r.f=r.f&ka|e}var Kt=new Map;function po(r,e){var t={f:0,v:r,reactions:null,equals:Wi,rv:0,wv:0};return t}function D(r,e){let t=po(r);return ao(t),t}function cn(r,e=!1){let t=po(r);return e||(t.equals=rn),t}function y(r,e,t=!1){M!==null&&!Oe&&bo()&&(M.f&(ve|en))!==0&&!Se?.includes(r)&&sa();let n=t?Pe(e):e;return Ta(r,n)}function Ta(r,e){if(!r.equals(e)){var t=r.v;qt?Kt.set(r,e):Kt.set(r,t),r.v=e,(r.f&ve)!==0&&((r.f&ke)!==0&&Ji(r),be(r,(r.f&he)===0?se:at)),r.wv=co(),go(r,ke),F!==null&&(F.f&se)!==0&&(F.f&(De|st))===0&&(fe===null?Ea([r]):fe.push(r))}return e}function go(r,e){var t=r.reactions;if(t!==null)for(var n=t.length,i=0;i<n;i++){var s=t[i],l=s.f;(l&ke)===0&&(be(s,e),(l&(se|he))!==0&&((l&ve)!==0?go(s,at):xr(s)))}}var ne=null;function Ci(r){ne=r}function mo(r,e=!1,t){var n=ne={p:ne,c:null,d:!1,e:null,m:!1,s:r,x:null,l:null};nn(()=>{n.d=!0})}function vo(r){let e=ne;if(e!==null){r!==void 0&&(e.x=r);let l=e.e;if(l!==null){var t=F,n=M;e.e=null;try{for(var i=0;i<l.length;i++){var s=l[i];ze(s.effect),Te(s.reaction),on(s.fn)}}finally{ze(t),Te(n)}}ne=e.p,e.m=!0}return r||{}}function bo(){return!0}var Na=["touchstart","touchmove"];function Ma(r){return Na.includes(r)}function Fa(r,e){if(e){let t=document.body;r.autofocus=!0,an(()=>{document.activeElement===t&&r.focus()})}}var ki=!1;function yo(){ki||(ki=!0,document.addEventListener("reset",r=>{Promise.resolve().then(()=>{if(!r.defaultPrevented)for(let e of r.target.elements)e.__on_r?.()})},{capture:!0}))}function wo(r){var e=M,t=F;Te(null),ze(null);try{return r()}finally{Te(e),ze(t)}}function Sa(r,e,t,n=t){r.addEventListener(e,()=>wo(t));let i=r.__on_r;i?r.__on_r=()=>{i(),n(!0)}:r.__on_r=()=>n(!0),yo()}var Eo=new Set,Zr=new Set;function Da(r,e,t,n={}){function i(s){if(n.capture||Rt.call(e,s),!s.cancelBubble)return wo(()=>t?.call(this,s))}return r.startsWith("pointer")||r.startsWith("touch")||r==="wheel"?an(()=>{e.addEventListener(r,i,n)}):e.addEventListener(r,i,n),i}function je(r,e,t,n,i){var s={capture:n,passive:i},l=Da(r,e,t,s);(e===document.body||e===window||e===document)&&nn(()=>{e.removeEventListener(r,l,s)})}function La(r){for(var e=0;e<r.length;e++)Eo.add(r[e]);for(var t of Zr)t(r)}function Rt(r){var e=this,t=e.ownerDocument,n=r.type,i=r.composedPath?.()||[],s=i[0]||r.target,l=0,c=r.__root;if(c){var h=i.indexOf(c);if(h!==-1&&(e===document||e===window)){r.__root=e;return}var d=i.indexOf(e);if(d===-1)return;h<=d&&(l=h)}if(s=i[l]||r.target,s!==e){jt(r,"currentTarget",{configurable:!0,get(){return s||t}});var m=M,f=F;Te(null),ze(null);try{for(var b,E=[];s!==null;){var R=s.assignedSlot||s.parentNode||s.host||null;try{var V=s["__"+n];if(V!=null&&(!s.disabled||r.target===s))if(Vi(V)){var[P,...C]=V;P.apply(s,[r,...C])}else V.call(s,r)}catch(Q){b?E.push(Q):b=Q}if(r.cancelBubble||R===e||R===null)break;s=R}if(b){for(let Q of E)queueMicrotask(()=>{throw Q});throw b}}finally{r.__root=e,delete r.currentTarget,Te(m),ze(f)}}}function un(r){var e=document.createElement("template");return e.innerHTML=r,e.content}function Ce(r,e){var t=F;t.nodes_start===null&&(t.nodes_start=r,t.nodes_end=e)}function ye(r,e){var t=(e&_s)!==0,n=(e&js)!==0,i,s=!r.startsWith("<!>");return()=>{if(B)return Ce(I,null),I;i===void 0&&(i=un(s?r:"<!>"+r),t||(i=pe(i)));var l=n||qi?document.importNode(i,!0):i.cloneNode(!0);if(t){var c=pe(l),h=l.lastChild;Ce(c,h)}else Ce(l,l);return l}}function $r(r,e,t="svg"){var n=!r.startsWith("<!>"),i=`<${t}>${n?r:"<!>"+r}</${t}>`,s;return()=>{if(B)return Ce(I,null),I;if(!s){var l=un(i),c=pe(l);s=pe(c)}var h=s.cloneNode(!0);return Ce(h,h),h}}function ir(){if(B)return Ce(I,null),I;var r=document.createDocumentFragment(),e=document.createComment(""),t=wr();return r.append(e,t),Ce(e,t),r}function K(r,e){if(B){F.nodes_end=I,xt();return}r!==null&&r.before(e)}function Ia(r,e){var t=e==null?"":typeof e=="object"?e+"":e;t!==(r.__t??=r.nodeValue)&&(r.__t=t,r.nodeValue=t+"")}function Ao(r,e){return xo(r,e)}function Ba(r,e){zr(),e.intro=e.intro??!1;let t=e.target,n=B,i=I;try{for(var s=pe(t);s&&(s.nodeType!==8||s.data!==Qr);)s=He(s);if(!s)throw wt;yt(!0),Ke(s),xt();let l=xo(r,{...e,anchor:s});if(I===null||I.nodeType!==8||I.data!==Bi)throw yr(),wt;return yt(!1),l}catch(l){if(l===wt)return e.recover===!1&&ra(),zr(),ca(t),yt(!1),Ao(r,e);throw l}finally{yt(n),Ke(i)}}var vt=new Map;function xo(r,{target:e,anchor:t,props:n={},events:i,context:s,intro:l=!0}){zr();var c=new Set,h=f=>{for(var b=0;b<f.length;b++){var E=f[b];if(!c.has(E)){c.add(E);var R=Ma(E);e.addEventListener(E,Rt,{passive:R});var V=vt.get(E);V===void 0?(document.addEventListener(E,Rt,{passive:R}),vt.set(E,1)):vt.set(E,V+1)}}};h(qs(Eo)),Zr.add(h);var d=void 0,m=ga(()=>{var f=t??e.appendChild(wr());return Wr(()=>{if(s){mo({});var b=ne;b.c=s}i&&(n.$$events=i),B&&Ce(f,null),d=r(f,n)||{},B&&(F.nodes_end=I),s&&vo()}),()=>{for(var b of c){e.removeEventListener(b,Rt);var E=vt.get(b);--E===0?(document.removeEventListener(b,Rt),vt.delete(b)):vt.set(b,E)}Zr.delete(h),f!==t&&f.parentNode?.removeChild(f)}});return Jr.set(d,m),d}var Jr=new WeakMap;function Ra(r,e){let t=Jr.get(r);return t?(Jr.delete(r),t(e)):Promise.resolve()}function J(r,e,[t,n]=[0,0]){B&&t===0&&xt();var i=r,s=null,l=null,c=oe,h=t>0?tn:0,d=!1;let m=(b,E=!0)=>{d=!0,f(E,b)},f=(b,E)=>{if(c===(c=b))return;let R=!1;if(B&&n!==-1){if(t===0){let P=i.data;P===Qr?n=0:P===Ii?n=1/0:(n=parseInt(P.substring(1)),n!==n&&(n=c?1/0:-1))}let V=n>t;!!c===V&&(i=aa(),Ke(i),yt(!1),R=!0,n=-1)}c?(s?xi(s):E&&(s=Wr(()=>E(i))),l&&Gr(l,()=>{l=null})):(l?xi(l):E&&(l=Wr(()=>E(i,[t+1,n]))),s&&Gr(s,()=>{s=null})),R&&yt(!0)};Xi(()=>{d=!1,e(m),d||f(null,null)},h),B&&(i=I)}function rt(r,e,t=!1,n=!1,i=!1){var s=r,l="";$e(()=>{var c=F;if(l===(l=e()??"")){B&&xt();return}if(c.nodes_start!==null&&(to(c.nodes_start,c.nodes_end),c.nodes_start=c.nodes_end=null),l!==""){if(B){I.data;for(var h=xt(),d=h;h!==null&&(h.nodeType!==8||h.data!=="");)d=h,h=He(h);if(h===null)throw yr(),wt;Ce(I,d),s=Ke(h);return}var m=l+"";t?m=`<svg>${m}</svg>`:n&&(m=`<math>${m}</math>`);var f=un(m);if((t||n)&&(f=pe(f)),Ce(pe(f),f.lastChild),t||n)for(;pe(f);)s.before(pe(f));else s.before(f)}})}function Va(r,e,t,n,i){B&&xt();var s=e.$$slots?.[t],l=!1;s===!0&&(s=e.children,l=!0),s===void 0||s(r,l?()=>n:n)}var Ti=[...` 	
\r\f\xA0\v\uFEFF`];function _a(r,e,t){var n=""+r;if(t){for(var i in t)if(t[i])n=n?n+" "+i:i;else if(n.length)for(var s=i.length,l=0;(l=n.indexOf(i,l))>=0;){var c=l+s;(l===0||Ti.includes(n[l-1]))&&(c===n.length||Ti.includes(n[c]))?n=(l===0?"":n.substring(0,l))+n.substring(c+1):l=c}}return n===""?null:n}function ja(r,e,t,n,i,s){var l=r.__className;if(B||l!==t||l===void 0){var c=_a(t,n,s);(!B||c!==r.getAttribute("class"))&&(c==null?r.removeAttribute("class"):r.className=c),r.__className=t}else if(s&&i!==s)for(var h in s){var d=!!s[h];(i==null||d!==!!i[h])&&r.classList.toggle(h,d)}return s}var Pa=Symbol("is custom element"),Ua=Symbol("is html");function Ni(r){if(B){var e=!1,t=()=>{if(!e){if(e=!0,r.hasAttribute("value")){var n=r.value;N(r,"value",null),r.value=n}if(r.hasAttribute("checked")){var i=r.checked;N(r,"checked",null),r.checked=i}}};r.__on_r=t,ya(t),yo()}}function Ka(r,e){var t=$o(r);t.value===(t.value=e??void 0)||r.value===e&&(e!==0||r.nodeName!=="PROGRESS")||(r.value=e??"")}function N(r,e,t,n){var i=$o(r);B&&(i[e]=r.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&r.nodeName==="LINK")||i[e]!==(i[e]=t)&&(e==="loading"&&(r[Ys]=t),t==null?r.removeAttribute(e):typeof t!="string"&&qa(r).includes(e)?r[e]=t:r.setAttribute(e,t))}function $o(r){return r.__attributes??={[Pa]:r.nodeName.includes("-"),[Ua]:r.namespaceURI===Ps}}var Mi=new Map;function qa(r){var e=Mi.get(r.nodeName);if(e)return e;Mi.set(r.nodeName,e=[]);for(var t,n=r,i=Element.prototype;i!==n;){t=zs(n);for(var s in t)t[s].set&&e.push(s);n=_i(n)}return e}function za(r,e,t=e){Sa(r,"change",n=>{var i=n?r.defaultChecked:r.checked;t(i)}),(B&&r.defaultChecked!==r.checked||ot(e)==null)&&t(r.checked),sn(()=>{var n=e();r.checked=!!n})}function Fi(r,e){return r===e||r?.[Vt]===e}function or(r={},e,t,n){return on(()=>{var i,s;return sn(()=>{i=s,s=[],ot(()=>{r!==t(...s)&&(e(r,...s),i&&Fi(t(...i),r)&&e(null,...i))})}),()=>{an(()=>{s&&Fi(t(...s),r)&&e(null,...s)})}}),r}function Oo(r){ne===null&&Ri(),Hr(()=>{let e=ot(r);if(typeof e=="function")return e})}function Ha(r){ne===null&&Ri(),Oo(()=>()=>ot(r))}function Co(r,e,t){if(r==null)return e(void 0),Et;let n=ot(()=>r.subscribe(e,t));return n.unsubscribe?()=>n.unsubscribe():n}var bt=[];function Wa(r,e=Et){let t=null,n=new Set;function i(c){if(Gi(r,c)&&(r=c,t)){let h=!bt.length;for(let d of n)d[1](),bt.push(d,r);if(h){for(let d=0;d<bt.length;d+=2)bt[d][0](bt[d+1]);bt.length=0}}}function s(c){i(c(r))}function l(c,h=Et){let d=[c,h];return n.add(d),n.size===1&&(t=e(i,s)||Et),c(r),()=>{n.delete(d),n.size===0&&t&&(t(),t=null)}}return{set:i,update:s,subscribe:l}}function lr(r){let e;return Co(r,t=>e=t)(),e}var sr=!1,Yr=Symbol();function Ga(r,e,t){let n=t[e]??={store:null,source:cn(void 0),unsubscribe:Et};if(n.store!==r&&!(Yr in t))if(n.unsubscribe(),n.store=r??null,r==null)n.source.v=void 0,n.unsubscribe=Et;else{var i=!0;n.unsubscribe=Co(r,s=>{i?n.source.v=s:y(n.source,s)}),i=!1}return r&&Yr in t?lr(r):a(n.source)}function Za(){let r={};function e(){nn(()=>{for(var t in r)r[t].unsubscribe();jt(r,Yr,{enumerable:!1,value:!0})})}return[r,e]}function Ja(r){var e=sr;try{return sr=!1,[r(),sr]}finally{sr=e}}function Si(r){return r.ctx?.d??!1}function x(r,e,t,n){var i=(t&Is)!==0,s=!0,l=(t&Rs)!==0,c=(t&Vs)!==0,h=!1,d;l?[d,h]=Ja(()=>r[e]):d=r[e];var m=Vt in r||Ki in r,f=l&&(nt(r,e)?.set??(m&&e in r&&(U=>r[e]=U)))||void 0,b=n,E=!0,R=!1,V=()=>(R=!0,E&&(E=!1,c?b=ot(n):b=n),b);d===void 0&&n!==void 0&&(f&&s&&na(),d=V(),f&&f(d));var P;if(P=()=>{var U=r[e];return U===void 0?V():(E=!0,R=!1,U)},(t&Bs)===0)return P;if(f){var C=r.$$legacy;return function(U,ae){return arguments.length>0?((!ae||C||h)&&f(ae?P():U),U):P()}}var Q=!1,Me=cn(d),Y=Er(()=>{var U=P(),ae=a(Me);return Q?(Q=!1,ae):Me.v=U});return l&&a(Y),i||(Y.equals=rn),function(U,ae){if(arguments.length>0){let We=ae?a(Y):l?Pe(U):U;if(!Y.equals(We)){if(Q=!0,y(Me,We),R&&b!==void 0&&(b=We),Si(Y))return U;ot(()=>a(Y))}return U}return Si(Y)?Y.v:a(Y)}}function Ya(r){return new Xr(r)}var Xr=class{#t;#e;constructor(e){var t=new Map,n=(s,l)=>{var c=cn(l);return t.set(s,c),c};let i=new Proxy({...e.props||{},$$events:{}},{get(s,l){return a(t.get(l)??n(l,Reflect.get(s,l)))},has(s,l){return l===Ki?!0:(a(t.get(l)??n(l,Reflect.get(s,l))),Reflect.has(s,l))},set(s,l,c){return y(t.get(l)??n(l,c),c),Reflect.set(s,l,c)}});this.#e=(e.hydrate?Ba:Ao)(e.component,{target:e.target,anchor:e.anchor,props:i,context:e.context,intro:e.intro??!1,recover:e.recover}),(!e?.props?.$$host||e.sync===!1)&&A(),this.#t=i.$$events;for(let s of Object.keys(this.#e))s==="$set"||s==="$destroy"||s==="$on"||jt(this,s,{get(){return this.#e[s]},set(l){this.#e[s]=l},enumerable:!0});this.#e.$set=s=>{Object.assign(i,s)},this.#e.$destroy=()=>{Ra(this.#e)}}$set(e){this.#e.$set(e)}$on(e,t){this.#t[e]=this.#t[e]||[];let n=(...i)=>t.call(this,...i);return this.#t[e].push(n),()=>{this.#t[e]=this.#t[e].filter(i=>i!==n)}}$destroy(){this.#e.$destroy()}},ko;typeof HTMLElement=="function"&&(ko=class extends HTMLElement{$$ctor;$$s;$$c;$$cn=!1;$$d={};$$r=!1;$$p_d={};$$l={};$$l_u=new Map;$$me;constructor(r,e,t){super(),this.$$ctor=r,this.$$s=e,t&&this.attachShadow({mode:"open"})}addEventListener(r,e,t){if(this.$$l[r]=this.$$l[r]||[],this.$$l[r].push(e),this.$$c){let n=this.$$c.$on(r,e);this.$$l_u.set(e,n)}super.addEventListener(r,e,t)}removeEventListener(r,e,t){if(super.removeEventListener(r,e,t),this.$$c){let n=this.$$l_u.get(e);n&&(n(),this.$$l_u.delete(e))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let r=function(n){return i=>{let s=document.createElement("slot");n!=="default"&&(s.name=n),K(i,s)}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;let e={},t=Xa(this);for(let n of this.$$s)n in t&&(n==="default"&&!this.$$d.children?(this.$$d.children=r(n),e.default=!0):e[n]=r(n));for(let n of this.attributes){let i=this.$$g_p(n.name);i in this.$$d||(this.$$d[i]=cr(i,n.value,this.$$p_d,"toProp"))}for(let n in this.$$p_d)!(n in this.$$d)&&this[n]!==void 0&&(this.$$d[n]=this[n],delete this[n]);this.$$c=Ya({component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots:e,$$host:this}}),this.$$me=pa(()=>{sn(()=>{this.$$r=!0;for(let n of ur(this.$$c)){if(!this.$$p_d[n]?.reflect)continue;this.$$d[n]=this.$$c[n];let i=cr(n,this.$$d[n],this.$$p_d,"toAttribute");i==null?this.removeAttribute(this.$$p_d[n].attribute||n):this.setAttribute(this.$$p_d[n].attribute||n,i)}this.$$r=!1})});for(let n in this.$$l)for(let i of this.$$l[n]){let s=this.$$c.$on(n,i);this.$$l_u.set(i,s)}this.$$l={}}}attributeChangedCallback(r,e,t){this.$$r||(r=this.$$g_p(r),this.$$d[r]=cr(r,t,this.$$p_d,"toProp"),this.$$c?.$set({[r]:this.$$d[r]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$me(),this.$$c=void 0)})}$$g_p(r){return ur(this.$$p_d).find(e=>this.$$p_d[e].attribute===r||!this.$$p_d[e].attribute&&e.toLowerCase()===r)||r}});function cr(r,e,t,n){let i=t[r]?.type;if(e=i==="Boolean"&&typeof e!="boolean"?e!=null:e,!n||!t[r])return e;if(n==="toAttribute")switch(i){case"Object":case"Array":return e==null?null:JSON.stringify(e);case"Boolean":return e?"":null;case"Number":return e??null;default:return e}else switch(i){case"Object":case"Array":return e&&JSON.parse(e);case"Boolean":return e;case"Number":return e!=null?+e:e;default:return e}}function Xa(r){let e={};return r.childNodes.forEach(t=>{e[t.slot||"default"]=!0}),e}function Qa(r,e,t,n,i,s){let l=class extends ko{constructor(){super(r,t,i),this.$$p_d=e}static get observedAttributes(){return ur(e).map(c=>(e[c].attribute||c).toLowerCase())}};return ur(e).forEach(c=>{jt(l.prototype,c,{get(){return this.$$c&&c in this.$$c?this.$$c[c]:this.$$d[c]},set(h){h=cr(c,h,e),this.$$d[c]=h;var d=this.$$c;if(d){var m=nt(d,c)?.get;m?d[c]=h:d.$set({[c]:h})}}})}),n.forEach(c=>{jt(l.prototype,c,{get(){return this.$$c?.[c]}})}),r.element=l,l}var To=new TextEncoder;function el(r){return[...new Uint8Array(r)].map(e=>e.toString(16).padStart(2,"0")).join("")}async function tl(r,e="SHA-256",t=1e5){let n=Date.now().toString(16);r||(r=Math.round(Math.random()*t));let i=await No(n,r,e);return{algorithm:e,challenge:i,salt:n,signature:""}}async function No(r,e,t){if(typeof crypto>"u"||!("subtle"in crypto)||!("digest"in crypto.subtle))throw new Error("Web Crypto is not available. Secure context is required (https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts).");return el(await crypto.subtle.digest(t.toUpperCase(),To.encode(r+e)))}function rl(r,e,t="SHA-256",n=1e6,i=0){let s=new AbortController,l=Date.now();return{promise:(async()=>{for(let c=i;c<=n;c+=1){if(s.signal.aborted)return null;if(await No(e,c,t)===r)return{number:c,took:Date.now()-l}}return null})(),controller:s}}function Di(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}}function nl(r){let e=atob(r),t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function il(r,e=12){let t=new Uint8Array(e);for(let n=0;n<e;n++)t[n]=r%256,r=Math.floor(r/256);return t}async function ol(r,e="",t=1e6,n=0){let i="AES-GCM",s=new AbortController,l=Date.now(),c=async()=>{for(let m=n;m<=t;m+=1){if(s.signal.aborted||!h||!d)return null;try{let f=await crypto.subtle.decrypt({name:i,iv:il(m)},h,d);if(f)return{clearText:new TextDecoder().decode(f),took:Date.now()-l}}catch{}}return null},h=null,d=null;try{d=nl(r);let m=await crypto.subtle.digest("SHA-256",To.encode(e));h=await crypto.subtle.importKey("raw",m,i,!1,["decrypt"])}catch{return{promise:Promise.reject(),controller:s}}return{promise:c(),controller:s}}var w=(r=>(r.CODE="code",r.ERROR="error",r.VERIFIED="verified",r.VERIFYING="verifying",r.UNVERIFIED="unverified",r.EXPIRED="expired",r))(w||{}),X=(r=>(r.ERROR="error",r.LOADING="loading",r.PLAYING="playing",r.PAUSED="paused",r.READY="ready",r))(X||{});globalThis.altchaPlugins=globalThis.altchaPlugins||[];globalThis.altchaI18n=globalThis.altchaI18n||{get:r=>lr(globalThis.altchaI18n.store)[r],set:(r,e)=>{Object.assign(lr(globalThis.altchaI18n.store),{[r]:e}),globalThis.altchaI18n.store.set(lr(globalThis.altchaI18n.store))},store:Wa({})};var sl={ariaLinkLabel:"Visit Altcha.org",enterCode:"Enter code",enterCodeAria:"Enter code you hear. Press Space to play audio.",error:"Verification failed. Try again later.",expired:"Verification expired. Try again.",footer:'Protected by <a href="https://altcha.org/" target="_blank" aria-label="Visit Altcha.org">ALTCHA</a>',getAudioChallenge:"Get an audio challenge",label:"I'm not a robot",loading:"Loading...",reload:"Reload",verify:"Verify",verificationRequired:"Verification required!",verified:"Verified",verifying:"Verifying...",waitAlert:"Verifying... please wait."};globalThis.altchaI18n.set("en",sl);var Kr=(r,e)=>{let t=ua(()=>Gs(e?.(),24));var n=ul();$e(()=>{N(n,"width",a(t)),N(n,"height",a(t))}),K(r,n)};function al(r,e){r.code==="Space"&&(r.preventDefault(),r.stopImmediatePropagation(),e())}function ll(r,e){r.preventDefault(),e()}function cl(r,e,t,n,i,s,l,c){[w.UNVERIFIED,w.ERROR,w.EXPIRED,w.CODE].includes(a(e))?t()!==!1&&a(n)?.reportValidity()===!1?y(i,!1):s()?l():c():y(i,!0)}var ul=$r('<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="altcha-spinner"><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" fill="currentColor" opacity=".25"></path><path d="M12,4a8,8,0,0,1,7.89,6.7A1.53,1.53,0,0,0,21.38,12h0a1.5,1.5,0,0,0,1.48-1.75,11,11,0,0,0-21.72,0A1.5,1.5,0,0,0,2.62,12h0a1.53,1.53,0,0,0,1.49-1.3A8,8,0,0,1,12,4Z" fill="currentColor"></path></svg>'),hl=ye('<input type="hidden">'),dl=ye('<div><a target="_blank" class="altcha-logo" aria-hidden="true"><svg width="22" height="22" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2.33955 16.4279C5.88954 20.6586 12.1971 21.2105 16.4279 17.6604C18.4699 15.947 19.6548 13.5911 19.9352 11.1365L17.9886 10.4279C17.8738 12.5624 16.909 14.6459 15.1423 16.1284C11.7577 18.9684 6.71167 18.5269 3.87164 15.1423C1.03163 11.7577 1.4731 6.71166 4.8577 3.87164C8.24231 1.03162 13.2883 1.4731 16.1284 4.8577C16.9767 5.86872 17.5322 7.02798 17.804 8.2324L19.9522 9.01429C19.7622 7.07737 19.0059 5.17558 17.6604 3.57212C14.1104 -0.658624 7.80283 -1.21043 3.57212 2.33956C-0.658625 5.88958 -1.21046 12.1971 2.33955 16.4279Z" fill="currentColor"></path><path d="M3.57212 2.33956C1.65755 3.94607 0.496389 6.11731 0.12782 8.40523L2.04639 9.13961C2.26047 7.15832 3.21057 5.25375 4.8577 3.87164C8.24231 1.03162 13.2883 1.4731 16.1284 4.8577L13.8302 6.78606L19.9633 9.13364C19.7929 7.15555 19.0335 5.20847 17.6604 3.57212C14.1104 -0.658624 7.80283 -1.21043 3.57212 2.33956Z" fill="currentColor"></path><path d="M7 10H5C5 12.7614 7.23858 15 10 15C12.7614 15 15 12.7614 15 10H13C13 11.6569 11.6569 13 10 13C8.3431 13 7 11.6569 7 10Z" fill="currentColor"></path></svg></a></div>'),fl=$r('<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12.8659 3.00017L22.3922 19.5002C22.6684 19.9785 22.5045 20.5901 22.0262 20.8662C21.8742 20.954 21.7017 21.0002 21.5262 21.0002H2.47363C1.92135 21.0002 1.47363 20.5525 1.47363 20.0002C1.47363 19.8246 1.51984 19.6522 1.60761 19.5002L11.1339 3.00017C11.41 2.52187 12.0216 2.358 12.4999 2.63414C12.6519 2.72191 12.7782 2.84815 12.8659 3.00017ZM10.9999 16.0002V18.0002H12.9999V16.0002H10.9999ZM10.9999 9.00017V14.0002H12.9999V9.00017H10.9999Z"></path></svg>'),pl=$r('<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M15 7C15 6.44772 15.4477 6 16 6C16.5523 6 17 6.44772 17 7V17C17 17.5523 16.5523 18 16 18C15.4477 18 15 17.5523 15 17V7ZM7 7C7 6.44772 7.44772 6 8 6C8.55228 6 9 6.44772 9 7V17C9 17.5523 8.55228 18 8 18C7.44772 18 7 17.5523 7 17V7Z"></path></svg>'),gl=$r('<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M4 12H7C8.10457 12 9 12.8954 9 14V19C9 20.1046 8.10457 21 7 21H4C2.89543 21 2 20.1046 2 19V12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12V19C22 20.1046 21.1046 21 20 21H17C15.8954 21 15 20.1046 15 19V14C15 12.8954 15.8954 12 17 12H20C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12Z"></path></svg>'),ml=ye('<button type="button" class="altcha-code-challenge-audio"><!></button>'),vl=ye("<audio hidden autoplay><source></audio>"),bl=ye('<div class="altcha-code-challenge" role="dialog"><div class="altcha-code-challenge-arrow"></div> <form data-code-challenge-form="1"><img class="altcha-code-challenge-image" alt=""> <input type="text" autocomplete="off" name="code" class="altcha-code-challenge-input" required> <div class="altcha-code-challenge-buttons"><div class="altcha-code-challenge-buttons-left"><!> <button type="button" class="altcha-code-challenge-reload"><svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2V4C16.4183 4 20 7.58172 20 12C20 16.4183 16.4183 20 12 20C7.58172 20 4 16.4183 4 12C4 9.25022 5.38734 6.82447 7.50024 5.38451L7.5 8H9.5V2L3.5 2V4L5.99918 3.99989C3.57075 5.82434 2 8.72873 2 12Z"></path></svg></button></div> <button type="submit" class="altcha-code-challenge-verify"><!> </button></div> <!></form></div>'),yl=ye("<div><!></div>"),wl=ye("<div><!></div>"),El=ye('<div class="altcha-error"><svg width="14" height="14" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg> <!></div>'),Al=ye('<div class="altcha-footer"><div><!></div></div>'),xl=ye('<div class="altcha-anchor-arrow"></div>'),$l=ye('<!> <div class="altcha"><div class="altcha-main"><div><!> <input type="checkbox"></div> <label class="altcha-label"><!></label> <!> <!> <!></div> <!> <!> <!></div>',1);function Ol(r,e){mo(e,!0);let[t,n]=Za(),i=()=>Ga(Ho,"$altchaI18nStore",t),s=x(e,"auto",7,void 0),l=x(e,"blockspam",7,void 0),c=x(e,"challengeurl",7,void 0),h=x(e,"challengejson",7,void 0),d=x(e,"credentials",7,void 0),m=x(e,"customfetch",7,void 0),f=x(e,"debug",7,!1),b=x(e,"delay",7,0),E=x(e,"disableautofocus",7,!1),R=x(e,"refetchonexpire",7,!0),V=x(e,"disablerefetchonexpire",23,()=>!R()),P=x(e,"expire",7,void 0),C=x(e,"floating",7,void 0),Q=x(e,"floatinganchor",7,void 0),Me=x(e,"floatingoffset",7,void 0),Y=x(e,"floatingpersist",7,!1),U=x(e,"hidefooter",7,!1),ae=x(e,"hidelogo",7,!1),We=x(e,"id",7,void 0),Zt=x(e,"language",7,void 0),Ge=x(e,"name",7,"altcha"),Ze=x(e,"maxnumber",7,1e6),Ot=x(e,"mockerror",7,!1),Ie=x(e,"obfuscated",7,void 0),ge=x(e,"overlay",7,void 0),Ct=x(e,"overlaycontent",7,void 0),Jt=x(e,"plugins",7,void 0),Je=x(e,"sentinel",7,void 0),we=x(e,"spamfilter",7,!1),ct=x(e,"strings",7,void 0),de=x(e,"test",7,!1),ee=x(e,"verifyurl",7,void 0),ut=x(e,"workers",23,()=>Math.min(16,navigator.hardwareConcurrency||8)),kt=x(e,"workerurl",7,void 0),{altchaI18n:zo}=globalThis,Ho=zo.store,Vn=["SHA-256","SHA-384","SHA-512"],Wo="https://altcha.org/",Be=(o,u)=>{e.$$host.dispatchEvent(new CustomEvent(o,{detail:u}))},_n=document.documentElement.lang?.split("-")?.[0],Dr=Bt(()=>c()&&new URL(c(),location.origin).host.endsWith(".altcha.org")&&!!c()?.includes("apiKey=ckey_")),Yt=Bt(()=>h()?Qn(h()):void 0),Go=Bt(()=>ct()?Qn(ct()):{}),L=Bt(()=>({...Un(i()),...a(Go)})),jn=Bt(()=>`${We()||Ge()}_checkbox_${Math.round(Math.random()*1e8)}`),Ye=D(null),Tt=D(!1),q=D(null),$=D(Pe(w.UNVERIFIED)),_=D(void 0),Nt=D(null),Re=D(null),le=D(null),Lr=D(null),ht=D(null),S=D(null),Mt=D(null),Xe=D(null),Ee=null,z=D(null),Qe=D(!1),Ve=[],Ir=D(!1),Ae=D(null);Hr(()=>{as(a(Xe))}),Hr(()=>{ls(a($))}),Ha(()=>{Zo(),y(Mt,null),a(S)&&(a(S).removeEventListener("submit",Gn),a(S).removeEventListener("reset",Zn),a(S).removeEventListener("focusin",Wn),y(S,null)),Ee&&(clearTimeout(Ee),Ee=null),document.removeEventListener("click",zn),document.removeEventListener("scroll",Hn),window.removeEventListener("resize",Xn)}),Oo(()=>{O("mounted","2.2.4"),O("workers",ut()),Qo(),O("plugins",Ve.length?Ve.map(o=>o.constructor.pluginName).join(", "):"none"),de()&&O("using test mode"),P()&&Rr(P()),s()!==void 0&&O("auto",s()),C()!==void 0&&ni(C()),y(S,a(_)?.closest("form"),!0),a(S)&&(a(S).addEventListener("submit",Gn,{capture:!0}),a(S).addEventListener("reset",Zn),(s()==="onfocus"||Y()==="focus")&&a(S).addEventListener("focusin",Wn)),ge()&&ii(!0),s()==="onload"&&(Ie()?Ft():Fe()),a(Dr)&&(U()||ae())&&O("Attributes hidefooter and hidelogo ignored because usage with free API Keys requires attribution."),requestAnimationFrame(()=>{Be("load")})});function Xt(o,u){return btoa(JSON.stringify({algorithm:o.algorithm,challenge:o.challenge,number:u.number,salt:o.salt,signature:o.signature,test:de()?!0:void 0,took:u.took}))}function Zo(){for(let o of Ve)o.destroy()}function Pn(){c()&&!V()&&a($)===w.VERIFIED?Fe():et(w.EXPIRED,a(L).expired)}async function Jo(){if(Ot())throw O("mocking error"),new Error("Mocked error.");if(a(Yt))return O("using provided json data"),ei(a(Yt).salt),a(Yt);if(de())return O("generating test challenge",{test:de()}),tl(typeof de()!="boolean"?+de():void 0);{if(!c()&&a(S)){let g=a(S).getAttribute("action");g?.includes("/form/")&&c(g+"/altcha")}if(!c())throw new Error("Attribute challengeurl not set.");O("fetching challenge from",c());let o={credentials:typeof d()=="boolean"?"include":d(),headers:we()!==!1?{"x-altcha-spam-filter":"1"}:{}},u=await Br()(c(),o);if(!u||!(u instanceof Response))throw new Error("Custom fetch function did not return a response.");if(u.status!==200)throw new Error(`Server responded with ${u.status}.`);let p=u.headers.get("X-Altcha-Config"),v=await u.json();if(ei(v.salt),p)try{let g=JSON.parse(p);g&&typeof g=="object"&&(g.verifyurl&&!g.verifyurl.startsWith("fn:")&&(g.verifyurl=qn(g.verifyurl)),ai(g))}catch(g){O("unable to configure from X-Altcha-Config",g)}return v}}function Yo(o){let u=a(S)?.querySelector(typeof o=="string"?`input[name="${o}"]`:'input[type="email"]:not([data-no-spamfilter])');return u?.value?.slice(u.value.indexOf("@"))||void 0}function Br(){let o=fetch;if(m())if(O("using customfetch"),typeof m()=="string"){if(o=globalThis[m()]||null,!o)throw new Error(`Custom fetch function not found: ${m()}`)}else o=m();return o}function Un(o,u=[Zt()||"",document.documentElement.lang||"",...navigator.languages]){let p=Object.keys(o).map(g=>g.toLowerCase()),v=u.reduce((g,T)=>(T=T.toLowerCase(),g||(o[T]?T:null)||p.find(k=>T.split("-")[0]===k.split("-")[0])||null),null);return o[v||"en"]}function Xo(){return we()==="ipAddress"?{blockedCountries:void 0,classifier:void 0,disableRules:void 0,email:!1,expectedCountries:void 0,expectedLanguages:void 0,fields:!1,ipAddress:void 0,text:void 0,timeZone:void 0}:typeof we()=="object"?we():{blockedCountries:void 0,classifier:void 0,disableRules:void 0,email:void 0,expectedCountries:void 0,expectedLanguages:void 0,fields:void 0,ipAddress:void 0,text:void 0,timeZone:void 0}}function Kn(o){return[...a(S)?.querySelectorAll(o?.length?o.map(u=>`input[name="${u}"]`).join(", "):'input[type="text"]:not([data-no-spamfilter]), textarea:not([data-no-spamfilter])')||[]].reduce((u,p)=>{let v=p.name,g=p.value;return v&&g&&(u[v]=/\n/.test(g)?g.replace(new RegExp("(?<!\\r)\\n","g"),`\r
`):g),u},{})}function qn(o,u){let p=new URL(c()||location.origin),v=new URL(o,p);if(v.search||(v.search=p.search),u)for(let g in u)u[g]!==void 0&&u[g]!==null&&v.searchParams.set(g,u[g]);return v.toString()}function Qo(){let o=Jt()!==void 0?Jt().split(","):void 0;for(let u of globalThis.altchaPlugins)(!o||o.includes(u.pluginName))&&Ve.push(new u({el:a(_),clarify:Ft,dispatch:Be,getConfiguration:li,getFloatingAnchor:ci,getState:ui,log:O,reset:et,solve:si,setState:xe,setFloatingAnchor:hi,verify:Fe}))}function O(...o){(f()||o.some(u=>u instanceof Error))&&console[o[0]instanceof Error?"error":"log"]("ALTCHA",`[name=${Ge()}]`,...o)}function es(){y(z,X.PAUSED,!0)}function ts(o){y(z,X.ERROR,!0)}function rs(){y(z,X.READY,!0)}function ns(){y(z,X.LOADING,!0)}function is(){y(z,X.PLAYING,!0)}function os(){y(z,X.PAUSED,!0)}function ss(o){if(o.preventDefault(),o.stopPropagation(),a(q)){let u=new FormData(o.target),p=String(u.get("code"));if(ee()?.startsWith("fn:")){let v=ee().replace(/^fn:/,"");if(O(`calling ${v} function instead of verifyurl`),!(v in globalThis))throw new Error(`Global function "${v}" is undefined.`);return globalThis[v]({challenge:a(q).challenge,code:p,solution:a(q).solution})}y(Qe,!0),ti(Xt(a(q).challenge,a(q).solution),p).then(({reason:v,verified:g})=>{g?(y(q,null),xe(w.VERIFIED),O("verified"),Ur().then(()=>{a(Lr)?.focus(),Be("verified",{payload:a(Ae)}),s()==="onsubmit"?ri(a(Mt)):ge()&&St()})):(et(),y(Xe,v||"Verification failed",!0))}).catch(v=>{y(q,null),xe(w.ERROR,v),O("sentinel verification failed:",v)}).finally(()=>{y(Qe,!1)})}}function zn(o){let u=o.target;C()&&u&&!a(_).contains(u)&&(a($)===w.VERIFIED&&Y()===!1||a($)===w.VERIFIED&&Y()==="focus"&&!a(S)?.matches(":focus-within")||s()==="off"&&a($)===w.UNVERIFIED)&&St()}function Hn(){C()&&a($)!==w.UNVERIFIED&&Dt()}function as(o){for(let u of Ve)typeof u.onErrorChange=="function"&&u.onErrorChange(a(Xe))}function Wn(o){a($)===w.UNVERIFIED?Fe():C()&&Y()==="focus"&&a($)===w.VERIFIED&&Qt()}function Gn(o){o.target?.hasAttribute("data-code-challenge-form")||(y(Mt,o.submitter,!0),a(S)&&s()==="onsubmit"?(a(Mt)?.blur(),a($)===w.UNVERIFIED?(o.preventDefault(),o.stopPropagation(),Fe().then(()=>{ri(a(Mt))})):a($)!==w.VERIFIED&&(o.preventDefault(),o.stopPropagation(),a($)===w.VERIFYING&&Jn())):a(S)&&C()&&s()==="off"&&a($)===w.UNVERIFIED&&(o.preventDefault(),o.stopPropagation(),Qt()))}function Zn(){et()}function Jn(){a($)===w.VERIFYING&&a(L).waitAlert&&alert(a(L).waitAlert)}function Yn(){a(Re)?a(Re).paused?(a(Re).currentTime=0,a(Re).play()):a(Re).pause():(y(Ir,!0),requestAnimationFrame(()=>{a(Re)?.play()}))}function ls(o){for(let u of Ve)typeof u.onStateChange=="function"&&u.onStateChange(a($));C()&&a($)!==w.UNVERIFIED&&requestAnimationFrame(()=>{Dt()}),y(Tt,a($)===w.VERIFIED),ge()&&a(le)&&(a($)!==w.UNVERIFIED?Qt():St())}function Xn(){C()&&Dt()}function Qn(o){return JSON.parse(o)}function ei(o){let u=new URLSearchParams(o.split("?")?.[1]),p=u.get("expires")||u.get("expire");if(p){let v=new Date(+p*1e3),g=isNaN(v.getTime())?0:v.getTime()-Date.now();g>0&&Rr(g)}else Ee&&(clearTimeout(Ee),Ee=null)}async function cs(o){if(!ee())throw new Error("Attribute verifyurl not set.");O("requesting server verification from",ee());let u={payload:o};if(we()!==!1){let{blockedCountries:g,classifier:T,disableRules:k,email:j,expectedLanguages:ie,expectedCountries:te,fields:ce,ipAddress:_e,text:ft,timeZone:rr}=Xo();u.blockedCountries=g,u.classifier=T,u.disableRules=k,u.email=j===!1?void 0:Yo(j),u.expectedCountries=te,u.expectedLanguages=ie||(_n?[_n]:void 0),u.fields=ce===!1?void 0:Kn(ce),u.ipAddress=_e===!1?void 0:_e||"auto",u.text=ft,u.timeZone=rr===!1?void 0:rr||Di()}let p=await Br()(ee(),{body:JSON.stringify(u),headers:{"content-type":"application/json"},method:"POST"});if(!p||!(p instanceof Response))throw new Error("Custom fetch function did not return a response.");if(p.status!==200)throw new Error(`Server responded with ${p.status}.`);let v=await p.json();if(v?.payload&&y(Ae,v.payload,!0),Be("serververification",v),l()&&v.classification==="BAD")throw new Error("SpamFilter returned negative classification.")}async function ti(o,u){if(!ee())throw new Error("Attribute verifyurl not set.");O("requesting sentinel verification from",ee());let p={code:u,payload:o};Je()&&(p.fields=Je().fields?Kn():void 0,p.timeZone=Je().timeZone?Di():void 0);let v=await Br()(ee(),{body:JSON.stringify(p),headers:{"content-type":"application/json"},method:"POST"});if(!v||!(v instanceof Response))throw new Error("Fetch function did not return a response.");if(v.status!==200)throw new Error(`Server responded with ${v.status}.`);let g=await v.json();return g?.payload&&y(Ae,g.payload,!0),Be("sentinelverification",g),g}function ri(o){a(S)&&"requestSubmit"in a(S)?a(S).requestSubmit(o):a(S)?.reportValidity()&&(o?o.click():a(S).submit())}function Rr(o){O("expire",o),Ee&&(clearTimeout(Ee),Ee=null),o<1?Pn():Ee=setTimeout(Pn,o)}function ni(o){O("floating",o),C()!==o&&(a(_).style.left="",a(_).style.top=""),C(o===!0||o===""?"auto":o===!1||o==="false"?void 0:C()),C()?(s()||s("onsubmit"),document.addEventListener("scroll",Hn),document.addEventListener("click",zn),window.addEventListener("resize",Xn)):s()==="onsubmit"&&s(void 0)}function ii(o){if(O("overlay",o),ge(o),o){if(s()||s("onsubmit"),a(le)&&a(_).parentElement&&a(le).replaceWith(a(_).parentElement),a(_)?.parentElement?.parentElement){y(le,document.createElement("div"),!0),a(_).parentElement.parentElement.appendChild(a(le));let u=document.createElement("div"),p=document.createElement("button");p.type="button",p.innerHTML="&times;",p.addEventListener("click",v=>{v.preventDefault(),et()}),a(le).classList.add("altcha-overlay-backdrop"),p.classList.add("altcha-overlay-close-button"),u.classList.add("altcha-overlay"),a(le).append(u),u.append(p),Ct()&&u.append(...document.querySelectorAll(Ct())),u.append(a(_).parentElement)}}else a(le)&&a(_).parentElement&&(a(le).replaceWith(a(_).parentElement),a(_).style.display="block")}function oi(o){if(!o.algorithm)throw new Error("Invalid challenge. Property algorithm is missing.");if(o.signature===void 0)throw new Error("Invalid challenge. Property signature is missing.");if(!Vn.includes(o.algorithm.toUpperCase()))throw new Error(`Unknown algorithm value. Allowed values: ${Vn.join(", ")}`);if(!o.challenge||o.challenge.length<40)throw new Error("Challenge is too short. Min. 40 chars.");if(!o.salt||o.salt.length<10)throw new Error("Salt is too short. Min. 10 chars.")}async function si(o){let u=null,p=null;if("Worker"in window){try{u=us(o,o.maxNumber||o.maxnumber||Ze()),y(Ye,u.controller,!0),p=await u.promise}catch(v){O(v)}finally{y(Ye,null)}if(p===null||p?.number!==void 0||"obfuscated"in o)return{data:o,solution:p}}if("obfuscated"in o){let v=await ol(o.obfuscated,o.key,o.maxNumber||o.maxnumber);return{data:o,solution:await v.promise}}u=rl(o.challenge,o.salt,o.algorithm,o.maxNumber||o.maxnumber||Ze()),y(Ye,u.controller,!0);try{p=await u.promise}catch(v){O(v)}finally{y(Ye,null)}return{data:o,solution:p}}function us(o,u=typeof de()=="number"?de():o.maxNumber||o.maxnumber||Ze(),p=Math.ceil(ut())){let v=new AbortController,g=[];p=Math.min(16,u,Math.max(1,p));for(let k=0;k<p;k++)g.push(altchaCreateWorker(kt()));let T=Math.ceil(u/p);return{promise:(async()=>{let k=await Promise.all(g.map((j,ie)=>{let te=ie*T;return v.signal.addEventListener("abort",()=>{j.postMessage({type:"abort"})}),new Promise(ce=>{j.addEventListener("message",_e=>{if(_e.data)for(let ft of g)ft!==j&&ft.postMessage({type:"abort"});ce(_e.data)}),j.postMessage({payload:o,max:te+T,start:te,type:"work"})})}));for(let j of g)j.terminate();return k.find(j=>!!j)||null})(),controller:v}}async function Ft(){if(!Ie()){xe(w.ERROR);return}let o=Ve.find(u=>u.constructor.pluginName==="obfuscation");if(!o||!("clarify"in o)){xe(w.ERROR),O("Plugin `obfuscation` not found. Import `altcha/plugins/obfuscation` to load it.");return}if("clarify"in o&&typeof o.clarify=="function")return o.clarify()}function ai(o){o.obfuscated!==void 0&&Ie(o.obfuscated),o.auto!==void 0&&(s(o.auto),s()==="onload"&&(Ie()?Ft():Fe())),o.blockspam!==void 0&&l(!!o.blockspam),o.customfetch!==void 0&&m(o.customfetch),o.floatinganchor!==void 0&&Q(o.floatinganchor),o.delay!==void 0&&b(o.delay),o.floatingoffset!==void 0&&Me(o.floatingoffset),o.floating!==void 0&&ni(o.floating),o.expire!==void 0&&(Rr(o.expire),P(o.expire)),o.challenge&&(h(typeof o.challenge=="string"?o.challenge:JSON.stringify(o.challenge)),oi(a(Yt))),o.challengeurl!==void 0&&c(o.challengeurl),o.debug!==void 0&&f(!!o.debug),o.hidefooter!==void 0&&U(!!o.hidefooter),o.hidelogo!==void 0&&ae(!!o.hidelogo),o.language!==void 0&&ct(Un(i(),[o.language])),o.maxnumber!==void 0&&Ze(+o.maxnumber),o.mockerror!==void 0&&Ot(!!o.mockerror),o.name!==void 0&&Ge(o.name),o.overlaycontent!==void 0&&Ct(o.overlaycontent),o.overlay!==void 0&&ii(o.overlay),o.refetchonexpire!==void 0&&V(!o.refetchonexpire),o.disablerefetchonexpire!==void 0&&V(!o.disablerefetchonexpire),o.sentinel!==void 0&&typeof o.sentinel=="object"&&Je(o.sentinel),o.spamfilter!==void 0&&we(typeof o.spamfilter=="object"?o.spamfilter:!!o.spamfilter),o.strings&&ct(typeof o.strings=="string"?o.strings:JSON.stringify(o.strings)),o.test!==void 0&&de(typeof o.test=="number"?o.test:!!o.test),o.verifyurl!==void 0&&ee(o.verifyurl),o.workers!==void 0&&ut(+o.workers),o.workerurl!==void 0&&kt(o.workerurl)}function li(){return{auto:s(),blockspam:l(),challengeurl:c(),debug:f(),delay:b(),disableautofocus:E(),disablerefetchonexpire:V(),expire:P(),floating:C(),floatinganchor:Q(),floatingoffset:Me(),hidefooter:U(),hidelogo:ae(),name:Ge(),maxnumber:Ze(),mockerror:Ot(),obfuscated:Ie(),overlay:ge(),refetchonexpire:!V(),spamfilter:we(),strings:a(L),test:de(),verifyurl:ee(),workers:ut(),workerurl:kt()}}function ci(){return a(ht)}function hs(o){return Ve.find(u=>u.constructor.pluginName===o)}function ui(){return a($)}function St(){a(_).style.display="none",ge()&&a(le)&&(a(le).style.display="none")}function Dt(o=20){if(a(_))if(a(ht)||y(ht,(Q()?document.querySelector(Q()):a(S)?.querySelector('input[type="submit"], button[type="submit"], button:not([type="button"]):not([type="reset"])'))||a(S),!0),a(ht)){let u=parseInt(Me(),10)||12,p=a(ht).getBoundingClientRect(),v=a(_).getBoundingClientRect(),g=document.documentElement.clientHeight,T=document.documentElement.clientWidth,k=C()==="auto"?p.bottom+v.height+u+o>g:C()==="top",j=Math.max(o,Math.min(T-o-v.width,p.left+p.width/2-v.width/2));if(k?a(_).style.top=`${p.top-(v.height+u)}px`:a(_).style.top=`${p.bottom+u}px`,a(_).style.left=`${j}px`,a(_).setAttribute("data-floating",k?"top":"bottom"),a(Nt)){let ie=a(Nt).getBoundingClientRect();a(Nt).style.left=p.left-j+p.width/2-ie.width/2+"px"}}else O("unable to find floating anchor element")}function et(o=w.UNVERIFIED,u=null){a(Ye)&&(a(Ye).abort(),y(Ye,null)),y(Tt,!1),y(Ae,null),y(q,null),y(Ir,!1),y(z,null),xe(o,u)}function hi(o){y(ht,o,!0)}function xe(o,u=null){y($,o,!0),y(Xe,u,!0),Be("statechange",{payload:a(Ae),state:a($)})}function Qt(){a(_).style.display="block",C()&&Dt(),ge()&&a(le)&&(a(le).style.display="flex")}async function Fe(){return et(w.VERIFYING),await new Promise(o=>setTimeout(o,b()||0)),Jo().then(o=>(oi(o),O("challenge",o),si(o))).then(({data:o,solution:u})=>{if(O("solution",u),!u||o&&"challenge"in o&&!("clearText"in u)){if(u?.number!==void 0&&"challenge"in o)if(ee()&&"codeChallenge"in o)["INPUT","BUTTON","SELECT","TEXTAREA"].includes(document.activeElement?.tagName||"")&&E()===!1&&document.activeElement.blur(),y(q,{challenge:o,solution:u},!0);else{if(ee()&&Je()!==void 0)return ti(Xt(o,u));if(ee())return cs(Xt(o,u));y(Ae,Xt(o,u),!0),O("payload",a(Ae))}else if(a($)!==w.EXPIRED)throw O("Unable to find a solution. Ensure that the 'maxnumber' attribute is greater than the randomly generated number."),new Error("Unexpected result returned.")}}).then(()=>{a(q)?(xe(w.CODE),Ur().then(()=>{Be("code",{codeChallenge:a(q)})})):a(Ae)&&(xe(w.VERIFIED),O("verified"),Ur().then(()=>{Be("verified",{payload:a(Ae)}),ge()&&St()}))}).catch(o=>{O(o),xe(w.ERROR,o.message)})}var di=$l(),fi=It(di);Va(fi,e,"default",{});var dt=Z(fi,2),Vr=G(dt),er=G(Vr);let pi;var gi=G(er);{var ds=o=>{Kr(o)};J(gi,o=>{a($)===w.VERIFYING&&o(ds)})}var tt=Z(gi,2);Ni(tt),tt.__change=[cl,$,we,S,Tt,Ie,Ft,Fe],or(tt,o=>y(Lr,o),()=>a(Lr)),W(er);var tr=Z(er,2),fs=G(tr);{var ps=o=>{var u=ir(),p=It(u);rt(p,()=>a(L).verified),K(o,u)},gs=(o,u)=>{{var p=g=>{var T=ir(),k=It(T);rt(k,()=>a(L).verifying),K(g,T)},v=(g,T)=>{{var k=ie=>{var te=ir(),ce=It(te);rt(ce,()=>a(L).verificationRequired),K(ie,te)},j=ie=>{var te=ir(),ce=It(te);rt(ce,()=>a(L).label),K(ie,te)};J(g,ie=>{a($)===w.CODE?ie(k):ie(j,!1)},T)}};J(o,g=>{a($)===w.VERIFYING?g(p):g(v,!1)},u)}};J(fs,o=>{a($)===w.VERIFIED?o(ps):o(gs,!1)})}W(tr);var mi=Z(tr,2);{var ms=o=>{var u=hl();Ni(u),$e(()=>{N(u,"name",Ge()),Ka(u,a(Ae))}),K(o,u)};J(mi,o=>{a($)===w.VERIFIED&&o(ms)})}var vi=Z(mi,2);{var vs=o=>{var u=dl(),p=G(u);N(p,"href",Wo),W(u),$e(()=>N(p,"aria-label",a(L).ariaLinkLabel)),K(o,u)};J(vi,o=>{(ae()!==!0||a(Dr))&&o(vs)})}var bs=Z(vi,2);{var ys=o=>{var u=bl(),p=Z(G(u),2),v=G(p),g=Z(v,2);Fa(g,!E()),g.__keydown=[al,Yn];var T=Z(g,2),k=G(T),j=G(k);{var ie=me=>{var H=ml();H.__click=Yn;var nr=G(H);{var Lt=pt=>{Kr(pt,()=>20)},ks=(pt,Ts)=>{{var Ns=gt=>{var _r=fl();K(gt,_r)},Ms=(gt,_r)=>{{var Fs=mt=>{var jr=pl();K(mt,jr)},Ss=mt=>{var jr=gl();K(mt,jr)};J(gt,mt=>{a(z)===X.PLAYING?mt(Fs):mt(Ss,!1)},_r)}};J(pt,gt=>{a(z)===X.ERROR?gt(Ns):gt(Ms,!1)},Ts)}};J(nr,pt=>{a(z)===X.LOADING?pt(Lt):pt(ks,!1)})}W(H),$e(()=>{N(H,"title",a(L).getAudioChallenge),H.disabled=a(z)===X.LOADING||a(z)===X.ERROR||a(Qe),N(H,"aria-label",a(z)===X.LOADING?a(L).loading:a(L).getAudioChallenge)}),K(me,H)};J(j,me=>{a(q).challenge.codeChallenge.audio&&me(ie)})}var te=Z(j,2);te.__click=[ll,Fe],W(k);var ce=Z(k,2),_e=G(ce);{var ft=me=>{Kr(me,()=>16)};J(_e,me=>{a(Qe)&&me(ft)})}var rr=Z(_e);W(ce),W(T);var Os=Z(T,2);{var Cs=me=>{var H=vl(),nr=G(H);W(H),or(H,Lt=>y(Re,Lt),()=>a(Re)),$e(Lt=>N(nr,"src",Lt),[()=>qn(a(q).challenge.codeChallenge.audio,{language:Zt()})]),je("loadstart",H,ns),je("canplay",H,rs),je("pause",H,os),je("playing",H,is),je("ended",H,es),je("error",nr,ts),K(me,H)};J(Os,me=>{a(q).challenge.codeChallenge.audio&&a(Ir)&&me(Cs)})}W(p),W(u),$e(()=>{N(u,"aria-label",a(L).verificationRequired),N(v,"src",a(q).challenge.codeChallenge.image),N(g,"minlength",a(q).challenge.codeChallenge.length||1),N(g,"maxlength",a(q).challenge.codeChallenge.length),N(g,"placeholder",a(L).enterCode),N(g,"aria-label",a(z)===X.LOADING?a(L).loading:a(z)===X.PLAYING?"":a(L).enterCodeAria),N(g,"aria-live",a(z)?"assertive":"polite"),N(g,"aria-busy",a(z)===X.LOADING),g.disabled=a(Qe),N(te,"aria-label",a(L).reload),N(te,"title",a(L).reload),te.disabled=a(Qe),ce.disabled=a(Qe),N(ce,"aria-label",a(L).verify),Ia(rr,` ${a(L).verify??""}`)}),je("submit",p,ss,!0),K(o,u)};J(bs,o=>{a(q)?.challenge.codeChallenge&&o(ys)})}W(Vr);var bi=Z(Vr,2);{var ws=o=>{var u=El(),p=Z(G(u),2);{var v=T=>{var k=yl(),j=G(k);rt(j,()=>a(L).expired),W(k),$e(()=>N(k,"title",a(Xe))),K(T,k)},g=T=>{var k=wl(),j=G(k);rt(j,()=>a(L).error),W(k),$e(()=>N(k,"title",a(Xe))),K(T,k)};J(p,T=>{a($)===w.EXPIRED?T(v):T(g,!1)})}W(u),K(o,u)};J(bi,o=>{(a(Xe)||a($)===w.EXPIRED)&&o(ws)})}var yi=Z(bi,2);{var Es=o=>{var u=Al(),p=G(u),v=G(p);rt(v,()=>a(L).footer),W(p),W(u),K(o,u)};J(yi,o=>{a(L).footer&&(U()!==!0||a(Dr))&&o(Es)})}var As=Z(yi,2);{var xs=o=>{var u=xl();or(u,p=>y(Nt,p),()=>a(Nt)),K(o,u)};J(As,o=>{C()&&o(xs)})}W(dt),or(dt,o=>y(_,o),()=>a(_)),$e(o=>{N(dt,"data-state",a($)),N(dt,"data-floating",C()),N(dt,"data-overlay",ge()),pi=ja(er,1,"altcha-checkbox",null,pi,o),N(tt,"id",a(jn)),tt.required=s()!=="onsubmit"&&(!C()||s()!=="off"),N(tr,"for",a(jn))},[()=>({"altcha-checkbox-verifying":a($)===w.VERIFYING})]),je("invalid",tt,Jn),za(tt,()=>a(Tt),o=>y(Tt,o)),K(r,di);var $s=vo({clarify:Ft,configure:ai,getConfiguration:li,getFloatingAnchor:ci,getPlugin:hs,getState:ui,hide:St,repositionFloating:Dt,reset:et,setFloatingAnchor:hi,setState:xe,show:Qt,verify:Fe,get auto(){return s()},set auto(o=void 0){s(o),A()},get blockspam(){return l()},set blockspam(o=void 0){l(o),A()},get challengeurl(){return c()},set challengeurl(o=void 0){c(o),A()},get challengejson(){return h()},set challengejson(o=void 0){h(o),A()},get credentials(){return d()},set credentials(o=void 0){d(o),A()},get customfetch(){return m()},set customfetch(o=void 0){m(o),A()},get debug(){return f()},set debug(o=!1){f(o),A()},get delay(){return b()},set delay(o=0){b(o),A()},get disableautofocus(){return E()},set disableautofocus(o=!1){E(o),A()},get refetchonexpire(){return R()},set refetchonexpire(o=!0){R(o),A()},get disablerefetchonexpire(){return V()},set disablerefetchonexpire(o=!R){V(o),A()},get expire(){return P()},set expire(o=void 0){P(o),A()},get floating(){return C()},set floating(o=void 0){C(o),A()},get floatinganchor(){return Q()},set floatinganchor(o=void 0){Q(o),A()},get floatingoffset(){return Me()},set floatingoffset(o=void 0){Me(o),A()},get floatingpersist(){return Y()},set floatingpersist(o=!1){Y(o),A()},get hidefooter(){return U()},set hidefooter(o=!1){U(o),A()},get hidelogo(){return ae()},set hidelogo(o=!1){ae(o),A()},get id(){return We()},set id(o=void 0){We(o),A()},get language(){return Zt()},set language(o=void 0){Zt(o),A()},get name(){return Ge()},set name(o="altcha"){Ge(o),A()},get maxnumber(){return Ze()},set maxnumber(o=1e6){Ze(o),A()},get mockerror(){return Ot()},set mockerror(o=!1){Ot(o),A()},get obfuscated(){return Ie()},set obfuscated(o=void 0){Ie(o),A()},get overlay(){return ge()},set overlay(o=void 0){ge(o),A()},get overlaycontent(){return Ct()},set overlaycontent(o=void 0){Ct(o),A()},get plugins(){return Jt()},set plugins(o=void 0){Jt(o),A()},get sentinel(){return Je()},set sentinel(o=void 0){Je(o),A()},get spamfilter(){return we()},set spamfilter(o=!1){we(o),A()},get strings(){return ct()},set strings(o=void 0){ct(o),A()},get test(){return de()},set test(o=!1){de(o),A()},get verifyurl(){return ee()},set verifyurl(o=void 0){ee(o),A()},get workers(){return ut()},set workers(o=Math.min(16,navigator.hardwareConcurrency||8)){ut(o),A()},get workerurl(){return kt()},set workerurl(o=void 0){kt(o),A()}});return n(),$s}La(["change","keydown","click"]);customElements.define("altcha-widget",Qa(Ol,{blockspam:{type:"Boolean"},debug:{type:"Boolean"},delay:{type:"Number"},disableautofocus:{type:"Boolean"},disablerefetchonexpire:{type:"Boolean"},expire:{type:"Number"},floatingoffset:{type:"Number"},hidefooter:{type:"Boolean"},hidelogo:{type:"Boolean"},maxnumber:{type:"Number"},mockerror:{type:"Boolean"},refetchonexpire:{type:"Boolean"},test:{type:"Boolean"},workers:{type:"Number"},auto:{},challengeurl:{},challengejson:{},credentials:{},customfetch:{},floating:{},floatinganchor:{},floatingpersist:{},id:{},language:{},name:{},obfuscated:{},overlay:{},overlaycontent:{},plugins:{},sentinel:{},spamfilter:{},strings:{},verifyurl:{},workerurl:{}},["default"],["clarify","configure","getConfiguration","getFloatingAnchor","getPlugin","getState","hide","repositionFloating","reset","setFloatingAnchor","setState","show","verify"],!1));var Mo='@keyframes overlay-slidein{to{opacity:1;top:50%}}@keyframes altcha-spinner{to{transform:rotate(360deg)}}.altcha{background:var(--altcha-color-base, transparent);border:var(--altcha-border-width, 1px) solid var(--altcha-color-border, #a0a0a0);border-radius:var(--altcha-border-radius, 3px);color:var(--altcha-color-text, currentColor);display:flex;flex-direction:column;max-width:var(--altcha-max-width, 260px);position:relative}.altcha:focus-within{border-color:var(--altcha-color-border-focus, currentColor)}.altcha[data-floating]{background:var(--altcha-color-base, white);display:none;filter:drop-shadow(3px 3px 6px rgba(0,0,0,.2));left:-100%;position:fixed;top:-100%;width:var(--altcha-max-width, 260px);z-index:999999}.altcha[data-floating=top] .altcha-anchor-arrow{border-bottom-color:transparent;border-top-color:var(--altcha-color-border, #a0a0a0);bottom:-12px;top:auto}.altcha[data-floating=bottom]:focus-within::after{border-bottom-color:var(--altcha-color-border-focus, currentColor)}.altcha[data-floating=top]:focus-within::after{border-top-color:var(--altcha-color-border-focus, currentColor)}.altcha[data-floating]:not([data-state=unverified]){display:block}.altcha-anchor-arrow{border:6px solid transparent;border-bottom-color:var(--altcha-color-border, #a0a0a0);content:"";height:0;left:12px;position:absolute;top:-12px;width:0}.altcha-main{align-items:center;display:flex;gap:.4rem;padding:.7rem;position:relative}.altcha-code-challenge{background:var(--altcha-color-base, white);border:1px solid var(--altcha-color-border-focus, currentColor);border-radius:var(--altcha-border-radius, 3px);filter:drop-shadow(3px 3px 6px rgba(0,0,0,.2));padding:.5rem;position:absolute;top:2.5rem;z-index:9999999}.altcha-code-challenge>form{display:flex;flex-direction:column;gap:.5rem}.altcha-code-challenge-input{border:1px solid currentColor;border-radius:3px;box-sizing:border-box;outline:0;font-size:16px;padding:.35rem;width:220px}.altcha-code-challenge-input:focus{outline:2px solid color-mix(in srgb,var(--altcha-color-active, #1D1DC9) 20%,transparent)}.altcha-code-challenge-input:disabled{opacity:.7}.altcha-code-challenge-image{background-color:#fff;border:1px solid currentColor;border-radius:3px;box-sizing:border-box;object-fit:contain;height:50px;width:220px}.altcha-code-challenge-audio,.altcha-code-challenge-reload{background:color-mix(in srgb,var(--altcha-color-text, currentColor) 10%,transparent);border:0;border-radius:3px;color:var(--altcha-color-text, currentColor);cursor:pointer;display:flex;align-items:center;justify-content:center;padding:.35rem}.altcha-code-challenge-audio:disabled,.altcha-code-challenge-reload:disabled,.altcha-code-challenge-verify:disabled{opacity:.7;pointer-events:none}.altcha-code-challenge-audio>*,.altcha-code-challenge-reload>*{height:20px;width:20px}.altcha-code-challenge-buttons{display:flex;justify-content:space-between}.altcha-code-challenge-buttons-left{display:flex;gap:.25rem}.altcha-code-challenge-verify{align-items:center;background:var(--altcha-color-active, #1D1DC9);border:0;border-radius:3px;color:#fff;cursor:pointer;display:flex;gap:.5rem;font-size:100%;padding:.35rem 1rem}.altcha-code-challenge-arrow{border:6px solid transparent;border-bottom-color:var(--altcha-color-border, currentColor);content:"";height:0;left:.15rem;position:absolute;top:-12px;width:0}.altcha[data-floating=top] .altcha-code-challenge{top:-150px}.altcha[data-floating=top] .altcha-code-challenge-arrow{border-bottom-color:transparent;border-top-color:var(--altcha-color-border, currentColor);bottom:-12px;top:auto}.altcha-label{cursor:pointer;flex-grow:1}.altcha-logo{color:currentColor!important;opacity:.7}.altcha-footer:hover,.altcha-logo:hover{opacity:1}.altcha-error{color:var(--altcha-color-error-text, #f23939);display:flex;font-size:.85rem;gap:.3rem;padding:0 .7rem .7rem}.altcha-footer{align-items:center;background-color:var(--altcha-color-footer-bg, transparent);display:flex;font-size:.75rem;opacity:.7;justify-content:end;padding:.2rem .7rem}.altcha-footer a{color:currentColor}.altcha-checkbox{display:flex;align-items:center;justify-content:center;height:24px;position:relative;width:24px}.altcha-checkbox .altcha-spinner{bottom:0;left:0;position:absolute;right:0;top:0}.altcha-checkbox input{width:18px;height:18px;margin:0}.altcha-checkbox-verifying input{appearance:none;opacity:0;pointer-events:none}.altcha-spinner{animation:altcha-spinner .75s infinite linear;transform-origin:center}.altcha-overlay{--altcha-color-base:#fff;--altcha-color-text:#000;animation:overlay-slidein .5s forwards;display:flex;flex-direction:column;gap:.5rem;left:50%;width:260px;opacity:0;position:fixed;top:45%;transform:translate(-50%,-50%)}.altcha-overlay-backdrop{background:rgba(0,0,0,.5);bottom:0;display:none;left:0;position:fixed;right:0;top:0;z-index:99999999}.altcha-overlay-close-button{align-self:flex-end;background:0 0;border:0;padding:.25rem;cursor:pointer;color:currentColor;font-size:130%;line-height:1;opacity:.7}@media (max-height:450px){.altcha-overlay{top:10%!important;transform:translate(-50%,0)}}';function Fo(r,e="__altcha-css"){if(!document.getElementById(e)){let t=document.createElement("style");t.id=e,t.textContent=r,document.head.appendChild(t)}}globalThis.altchaCreateWorker=r=>r?new Worker(new URL(r)):new Ds;Fo(Mo);Fo(Mo);var Or=()=>{};function Cl(r,e){return r!=r?e==e:r!==e||r!==null&&typeof r=="object"||typeof r=="function"}var hn=!1;function kl(r){var e=hn;try{return hn=!0,r()}finally{hn=e}}function Tl(r,e,t){if(r==null)return e(void 0),Or;let n=kl(()=>r.subscribe(e,t));return n.unsubscribe?()=>n.unsubscribe():n}var $t=[];function Nl(r,e=Or){let t=null,n=new Set;function i(c){if(Cl(r,c)&&(r=c,t)){let h=!$t.length;for(let d of n)d[1](),$t.push(d,r);if(h){for(let d=0;d<$t.length;d+=2)$t[d][0]($t[d+1]);$t.length=0}}}function s(c){i(c(r))}function l(c,h=Or){let d=[c,h];return n.add(d),n.size===1&&(t=e(i,s)||Or),c(r),()=>{n.delete(d),n.size===0&&t&&(t(),t=null)}}return{set:i,update:s,subscribe:l}}function dn(r){let e;return Tl(r,t=>e=t)(),e}globalThis.altchaPlugins=globalThis.altchaPlugins||[];globalThis.altchaI18n=globalThis.altchaI18n||{get:r=>dn(globalThis.altchaI18n.store)[r],set:(r,e)=>{Object.assign(dn(globalThis.altchaI18n.store),{[r]:e}),globalThis.altchaI18n.store.set(dn(globalThis.altchaI18n.store))},store:Nl({})};var Ml={ariaLinkLabel:"Visitez Altcha.org",enterCode:"Entrez le code",enterCodeAria:"Entrez le code que vous entendez. Appuyez sur Espace pour \xE9couter l'audio.",error:"\xC9chec de la v\xE9rification. Essayez \xE0 nouveau plus tard.",expired:"La v\xE9rification a expir\xE9. Essayez \xE0 nouveau.",verificationRequired:"V\xE9rification requise !",footer:'Prot\xE9g\xE9 par <a href="https://altcha.org/" target="_blank" aria-label="Visitez Altcha.org">ALTCHA</a>',getAudioChallenge:"Obtenir un d\xE9fi audio",label:"Pas un robot",loading:"Chargement...",reload:"Recharger",verify:"V\xE9rifier",verified:"V\xE9rifi\xE9",verifying:"V\xE9rification en cours...",waitAlert:"V\xE9rification en cours... veuillez patienter."};globalThis.altchaI18n.set("fr-fr",Ml);var fn=class{constructor(e,t,n){this.eventTarget=e,this.eventName=t,this.eventOptions=n,this.unorderedBindings=new Set}connect(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)}disconnect(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)}bindingConnected(e){this.unorderedBindings.add(e)}bindingDisconnected(e){this.unorderedBindings.delete(e)}handleEvent(e){let t=Fl(e);for(let n of this.bindings){if(t.immediatePropagationStopped)break;n.handleEvent(t)}}hasBindings(){return this.unorderedBindings.size>0}get bindings(){return Array.from(this.unorderedBindings).sort((e,t)=>{let n=e.index,i=t.index;return n<i?-1:n>i?1:0})}};function Fl(r){if("immediatePropagationStopped"in r)return r;{let{stopImmediatePropagation:e}=r;return Object.assign(r,{immediatePropagationStopped:!1,stopImmediatePropagation(){this.immediatePropagationStopped=!0,e.call(this)}})}}var pn=class{constructor(e){this.application=e,this.eventListenerMaps=new Map,this.started=!1}start(){this.started||(this.started=!0,this.eventListeners.forEach(e=>e.connect()))}stop(){this.started&&(this.started=!1,this.eventListeners.forEach(e=>e.disconnect()))}get eventListeners(){return Array.from(this.eventListenerMaps.values()).reduce((e,t)=>e.concat(Array.from(t.values())),[])}bindingConnected(e){this.fetchEventListenerForBinding(e).bindingConnected(e)}bindingDisconnected(e,t=!1){this.fetchEventListenerForBinding(e).bindingDisconnected(e),t&&this.clearEventListenersForBinding(e)}handleError(e,t,n={}){this.application.handleError(e,`Error ${t}`,n)}clearEventListenersForBinding(e){let t=this.fetchEventListenerForBinding(e);t.hasBindings()||(t.disconnect(),this.removeMappedEventListenerFor(e))}removeMappedEventListenerFor(e){let{eventTarget:t,eventName:n,eventOptions:i}=e,s=this.fetchEventListenerMapForEventTarget(t),l=this.cacheKey(n,i);s.delete(l),s.size==0&&this.eventListenerMaps.delete(t)}fetchEventListenerForBinding(e){let{eventTarget:t,eventName:n,eventOptions:i}=e;return this.fetchEventListener(t,n,i)}fetchEventListener(e,t,n){let i=this.fetchEventListenerMapForEventTarget(e),s=this.cacheKey(t,n),l=i.get(s);return l||(l=this.createEventListener(e,t,n),i.set(s,l)),l}createEventListener(e,t,n){let i=new fn(e,t,n);return this.started&&i.connect(),i}fetchEventListenerMapForEventTarget(e){let t=this.eventListenerMaps.get(e);return t||(t=new Map,this.eventListenerMaps.set(e,t)),t}cacheKey(e,t){let n=[e];return Object.keys(t).sort().forEach(i=>{n.push(`${t[i]?"":"!"}${i}`)}),n.join(":")}},Sl={stop({event:r,value:e}){return e&&r.stopPropagation(),!0},prevent({event:r,value:e}){return e&&r.preventDefault(),!0},self({event:r,value:e,element:t}){return e?t===r.target:!0}},Dl=/^(?:(?:([^.]+?)\+)?(.+?)(?:\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;function Ll(r){let t=r.trim().match(Dl)||[],n=t[2],i=t[3];return i&&!["keydown","keyup","keypress"].includes(n)&&(n+=`.${i}`,i=""),{eventTarget:Il(t[4]),eventName:n,eventOptions:t[7]?Bl(t[7]):{},identifier:t[5],methodName:t[6],keyFilter:t[1]||i}}function Il(r){if(r=="window")return window;if(r=="document")return document}function Bl(r){return r.split(":").reduce((e,t)=>Object.assign(e,{[t.replace(/^!/,"")]:!/^!/.test(t)}),{})}function Rl(r){if(r==window)return"window";if(r==document)return"document"}function Bn(r){return r.replace(/(?:[_-])([a-z0-9])/g,(e,t)=>t.toUpperCase())}function gn(r){return Bn(r.replace(/--/g,"-").replace(/__/g,"_"))}function Wt(r){return r.charAt(0).toUpperCase()+r.slice(1)}function Po(r){return r.replace(/([A-Z])/g,(e,t)=>`-${t.toLowerCase()}`)}function Vl(r){return r.match(/[^\s]+/g)||[]}function So(r){return r!=null}function mn(r,e){return Object.prototype.hasOwnProperty.call(r,e)}var Do=["meta","ctrl","alt","shift"],vn=class{constructor(e,t,n,i){this.element=e,this.index=t,this.eventTarget=n.eventTarget||e,this.eventName=n.eventName||_l(e)||Cr("missing event name"),this.eventOptions=n.eventOptions||{},this.identifier=n.identifier||Cr("missing identifier"),this.methodName=n.methodName||Cr("missing method name"),this.keyFilter=n.keyFilter||"",this.schema=i}static forToken(e,t){return new this(e.element,e.index,Ll(e.content),t)}toString(){let e=this.keyFilter?`.${this.keyFilter}`:"",t=this.eventTargetName?`@${this.eventTargetName}`:"";return`${this.eventName}${e}${t}->${this.identifier}#${this.methodName}`}shouldIgnoreKeyboardEvent(e){if(!this.keyFilter)return!1;let t=this.keyFilter.split("+");if(this.keyFilterDissatisfied(e,t))return!0;let n=t.filter(i=>!Do.includes(i))[0];return n?(mn(this.keyMappings,n)||Cr(`contains unknown key filter: ${this.keyFilter}`),this.keyMappings[n].toLowerCase()!==e.key.toLowerCase()):!1}shouldIgnoreMouseEvent(e){if(!this.keyFilter)return!1;let t=[this.keyFilter];return!!this.keyFilterDissatisfied(e,t)}get params(){let e={},t=new RegExp(`^data-${this.identifier}-(.+)-param$`,"i");for(let{name:n,value:i}of Array.from(this.element.attributes)){let s=n.match(t),l=s&&s[1];l&&(e[Bn(l)]=jl(i))}return e}get eventTargetName(){return Rl(this.eventTarget)}get keyMappings(){return this.schema.keyMappings}keyFilterDissatisfied(e,t){let[n,i,s,l]=Do.map(c=>t.includes(c));return e.metaKey!==n||e.ctrlKey!==i||e.altKey!==s||e.shiftKey!==l}},Lo={a:()=>"click",button:()=>"click",form:()=>"submit",details:()=>"toggle",input:r=>r.getAttribute("type")=="submit"?"click":"input",select:()=>"change",textarea:()=>"input"};function _l(r){let e=r.tagName.toLowerCase();if(e in Lo)return Lo[e](r)}function Cr(r){throw new Error(r)}function jl(r){try{return JSON.parse(r)}catch{return r}}var bn=class{constructor(e,t){this.context=e,this.action=t}get index(){return this.action.index}get eventTarget(){return this.action.eventTarget}get eventOptions(){return this.action.eventOptions}get identifier(){return this.context.identifier}handleEvent(e){let t=this.prepareActionEvent(e);this.willBeInvokedByEvent(e)&&this.applyEventModifiers(t)&&this.invokeWithEvent(t)}get eventName(){return this.action.eventName}get method(){let e=this.controller[this.methodName];if(typeof e=="function")return e;throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`)}applyEventModifiers(e){let{element:t}=this.action,{actionDescriptorFilters:n}=this.context.application,{controller:i}=this.context,s=!0;for(let[l,c]of Object.entries(this.eventOptions))if(l in n){let h=n[l];s=s&&h({name:l,value:c,event:e,element:t,controller:i})}else continue;return s}prepareActionEvent(e){return Object.assign(e,{params:this.action.params})}invokeWithEvent(e){let{target:t,currentTarget:n}=e;try{this.method.call(this.controller,e),this.context.logDebugActivity(this.methodName,{event:e,target:t,currentTarget:n,action:this.methodName})}catch(i){let{identifier:s,controller:l,element:c,index:h}=this,d={identifier:s,controller:l,element:c,index:h,event:e};this.context.handleError(i,`invoking action "${this.action}"`,d)}}willBeInvokedByEvent(e){let t=e.target;return e instanceof KeyboardEvent&&this.action.shouldIgnoreKeyboardEvent(e)||e instanceof MouseEvent&&this.action.shouldIgnoreMouseEvent(e)?!1:this.element===t?!0:t instanceof Element&&this.element.contains(t)?this.scope.containsElement(t):this.scope.containsElement(this.action.element)}get controller(){return this.context.controller}get methodName(){return this.action.methodName}get element(){return this.scope.element}get scope(){return this.context.scope}},kr=class{constructor(e,t){this.mutationObserverInit={attributes:!0,childList:!0,subtree:!0},this.element=e,this.started=!1,this.delegate=t,this.elements=new Set,this.mutationObserver=new MutationObserver(n=>this.processMutations(n))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,this.mutationObserverInit),this.refresh())}pause(e){this.started&&(this.mutationObserver.disconnect(),this.started=!1),e(),this.started||(this.mutationObserver.observe(this.element,this.mutationObserverInit),this.started=!0)}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started){let e=new Set(this.matchElementsInTree());for(let t of Array.from(this.elements))e.has(t)||this.removeElement(t);for(let t of Array.from(e))this.addElement(t)}}processMutations(e){if(this.started)for(let t of e)this.processMutation(t)}processMutation(e){e.type=="attributes"?this.processAttributeChange(e.target,e.attributeName):e.type=="childList"&&(this.processRemovedNodes(e.removedNodes),this.processAddedNodes(e.addedNodes))}processAttributeChange(e,t){this.elements.has(e)?this.delegate.elementAttributeChanged&&this.matchElement(e)?this.delegate.elementAttributeChanged(e,t):this.removeElement(e):this.matchElement(e)&&this.addElement(e)}processRemovedNodes(e){for(let t of Array.from(e)){let n=this.elementFromNode(t);n&&this.processTree(n,this.removeElement)}}processAddedNodes(e){for(let t of Array.from(e)){let n=this.elementFromNode(t);n&&this.elementIsActive(n)&&this.processTree(n,this.addElement)}}matchElement(e){return this.delegate.matchElement(e)}matchElementsInTree(e=this.element){return this.delegate.matchElementsInTree(e)}processTree(e,t){for(let n of this.matchElementsInTree(e))t.call(this,n)}elementFromNode(e){if(e.nodeType==Node.ELEMENT_NODE)return e}elementIsActive(e){return e.isConnected!=this.element.isConnected?!1:this.element.contains(e)}addElement(e){this.elements.has(e)||this.elementIsActive(e)&&(this.elements.add(e),this.delegate.elementMatched&&this.delegate.elementMatched(e))}removeElement(e){this.elements.has(e)&&(this.elements.delete(e),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(e))}},Tr=class{constructor(e,t,n){this.attributeName=t,this.delegate=n,this.elementObserver=new kr(e,this)}get element(){return this.elementObserver.element}get selector(){return`[${this.attributeName}]`}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get started(){return this.elementObserver.started}matchElement(e){return e.hasAttribute(this.attributeName)}matchElementsInTree(e){let t=this.matchElement(e)?[e]:[],n=Array.from(e.querySelectorAll(this.selector));return t.concat(n)}elementMatched(e){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(e,this.attributeName)}elementUnmatched(e){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(e,this.attributeName)}elementAttributeChanged(e,t){this.delegate.elementAttributeValueChanged&&this.attributeName==t&&this.delegate.elementAttributeValueChanged(e,t)}};function Pl(r,e,t){Uo(r,e).add(t)}function Ul(r,e,t){Uo(r,e).delete(t),Kl(r,e)}function Uo(r,e){let t=r.get(e);return t||(t=new Set,r.set(e,t)),t}function Kl(r,e){let t=r.get(e);t!=null&&t.size==0&&r.delete(e)}var Le=class{constructor(){this.valuesByKey=new Map}get keys(){return Array.from(this.valuesByKey.keys())}get values(){return Array.from(this.valuesByKey.values()).reduce((t,n)=>t.concat(Array.from(n)),[])}get size(){return Array.from(this.valuesByKey.values()).reduce((t,n)=>t+n.size,0)}add(e,t){Pl(this.valuesByKey,e,t)}delete(e,t){Ul(this.valuesByKey,e,t)}has(e,t){let n=this.valuesByKey.get(e);return n!=null&&n.has(t)}hasKey(e){return this.valuesByKey.has(e)}hasValue(e){return Array.from(this.valuesByKey.values()).some(n=>n.has(e))}getValuesForKey(e){let t=this.valuesByKey.get(e);return t?Array.from(t):[]}getKeysForValue(e){return Array.from(this.valuesByKey).filter(([t,n])=>n.has(e)).map(([t,n])=>t)}};var yn=class{constructor(e,t,n,i){this._selector=t,this.details=i,this.elementObserver=new kr(e,this),this.delegate=n,this.matchesByElement=new Le}get started(){return this.elementObserver.started}get selector(){return this._selector}set selector(e){this._selector=e,this.refresh()}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get element(){return this.elementObserver.element}matchElement(e){let{selector:t}=this;if(t){let n=e.matches(t);return this.delegate.selectorMatchElement?n&&this.delegate.selectorMatchElement(e,this.details):n}else return!1}matchElementsInTree(e){let{selector:t}=this;if(t){let n=this.matchElement(e)?[e]:[],i=Array.from(e.querySelectorAll(t)).filter(s=>this.matchElement(s));return n.concat(i)}else return[]}elementMatched(e){let{selector:t}=this;t&&this.selectorMatched(e,t)}elementUnmatched(e){let t=this.matchesByElement.getKeysForValue(e);for(let n of t)this.selectorUnmatched(e,n)}elementAttributeChanged(e,t){let{selector:n}=this;if(n){let i=this.matchElement(e),s=this.matchesByElement.has(n,e);i&&!s?this.selectorMatched(e,n):!i&&s&&this.selectorUnmatched(e,n)}}selectorMatched(e,t){this.delegate.selectorMatched(e,t,this.details),this.matchesByElement.add(t,e)}selectorUnmatched(e,t){this.delegate.selectorUnmatched(e,t,this.details),this.matchesByElement.delete(t,e)}},wn=class{constructor(e,t){this.element=e,this.delegate=t,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver(n=>this.processMutations(n))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,attributeOldValue:!0}),this.refresh())}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started)for(let e of this.knownAttributeNames)this.refreshAttribute(e,null)}processMutations(e){if(this.started)for(let t of e)this.processMutation(t)}processMutation(e){let t=e.attributeName;t&&this.refreshAttribute(t,e.oldValue)}refreshAttribute(e,t){let n=this.delegate.getStringMapKeyForAttribute(e);if(n!=null){this.stringMap.has(e)||this.stringMapKeyAdded(n,e);let i=this.element.getAttribute(e);if(this.stringMap.get(e)!=i&&this.stringMapValueChanged(i,n,t),i==null){let s=this.stringMap.get(e);this.stringMap.delete(e),s&&this.stringMapKeyRemoved(n,e,s)}else this.stringMap.set(e,i)}}stringMapKeyAdded(e,t){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(e,t)}stringMapValueChanged(e,t,n){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(e,t,n)}stringMapKeyRemoved(e,t,n){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(e,t,n)}get knownAttributeNames(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))}get currentAttributeNames(){return Array.from(this.element.attributes).map(e=>e.name)}get recordedAttributeNames(){return Array.from(this.stringMap.keys())}},Nr=class{constructor(e,t,n){this.attributeObserver=new Tr(e,t,this),this.delegate=n,this.tokensByElement=new Le}get started(){return this.attributeObserver.started}start(){this.attributeObserver.start()}pause(e){this.attributeObserver.pause(e)}stop(){this.attributeObserver.stop()}refresh(){this.attributeObserver.refresh()}get element(){return this.attributeObserver.element}get attributeName(){return this.attributeObserver.attributeName}elementMatchedAttribute(e){this.tokensMatched(this.readTokensForElement(e))}elementAttributeValueChanged(e){let[t,n]=this.refreshTokensForElement(e);this.tokensUnmatched(t),this.tokensMatched(n)}elementUnmatchedAttribute(e){this.tokensUnmatched(this.tokensByElement.getValuesForKey(e))}tokensMatched(e){e.forEach(t=>this.tokenMatched(t))}tokensUnmatched(e){e.forEach(t=>this.tokenUnmatched(t))}tokenMatched(e){this.delegate.tokenMatched(e),this.tokensByElement.add(e.element,e)}tokenUnmatched(e){this.delegate.tokenUnmatched(e),this.tokensByElement.delete(e.element,e)}refreshTokensForElement(e){let t=this.tokensByElement.getValuesForKey(e),n=this.readTokensForElement(e),i=zl(t,n).findIndex(([s,l])=>!Hl(s,l));return i==-1?[[],[]]:[t.slice(i),n.slice(i)]}readTokensForElement(e){let t=this.attributeName,n=e.getAttribute(t)||"";return ql(n,e,t)}};function ql(r,e,t){return r.trim().split(/\s+/).filter(n=>n.length).map((n,i)=>({element:e,attributeName:t,content:n,index:i}))}function zl(r,e){let t=Math.max(r.length,e.length);return Array.from({length:t},(n,i)=>[r[i],e[i]])}function Hl(r,e){return r&&e&&r.index==e.index&&r.content==e.content}var Mr=class{constructor(e,t,n){this.tokenListObserver=new Nr(e,t,this),this.delegate=n,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}get started(){return this.tokenListObserver.started}start(){this.tokenListObserver.start()}stop(){this.tokenListObserver.stop()}refresh(){this.tokenListObserver.refresh()}get element(){return this.tokenListObserver.element}get attributeName(){return this.tokenListObserver.attributeName}tokenMatched(e){let{element:t}=e,{value:n}=this.fetchParseResultForToken(e);n&&(this.fetchValuesByTokenForElement(t).set(e,n),this.delegate.elementMatchedValue(t,n))}tokenUnmatched(e){let{element:t}=e,{value:n}=this.fetchParseResultForToken(e);n&&(this.fetchValuesByTokenForElement(t).delete(e),this.delegate.elementUnmatchedValue(t,n))}fetchParseResultForToken(e){let t=this.parseResultsByToken.get(e);return t||(t=this.parseToken(e),this.parseResultsByToken.set(e,t)),t}fetchValuesByTokenForElement(e){let t=this.valuesByTokenByElement.get(e);return t||(t=new Map,this.valuesByTokenByElement.set(e,t)),t}parseToken(e){try{return{value:this.delegate.parseValueForToken(e)}}catch(t){return{error:t}}}},En=class{constructor(e,t){this.context=e,this.delegate=t,this.bindingsByAction=new Map}start(){this.valueListObserver||(this.valueListObserver=new Mr(this.element,this.actionAttribute,this),this.valueListObserver.start())}stop(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())}get element(){return this.context.element}get identifier(){return this.context.identifier}get actionAttribute(){return this.schema.actionAttribute}get schema(){return this.context.schema}get bindings(){return Array.from(this.bindingsByAction.values())}connectAction(e){let t=new bn(this.context,e);this.bindingsByAction.set(e,t),this.delegate.bindingConnected(t)}disconnectAction(e){let t=this.bindingsByAction.get(e);t&&(this.bindingsByAction.delete(e),this.delegate.bindingDisconnected(t))}disconnectAllActions(){this.bindings.forEach(e=>this.delegate.bindingDisconnected(e,!0)),this.bindingsByAction.clear()}parseValueForToken(e){let t=vn.forToken(e,this.schema);if(t.identifier==this.identifier)return t}elementMatchedValue(e,t){this.connectAction(t)}elementUnmatchedValue(e,t){this.disconnectAction(t)}},An=class{constructor(e,t){this.context=e,this.receiver=t,this.stringMapObserver=new wn(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap}start(){this.stringMapObserver.start(),this.invokeChangedCallbacksForDefaultValues()}stop(){this.stringMapObserver.stop()}get element(){return this.context.element}get controller(){return this.context.controller}getStringMapKeyForAttribute(e){if(e in this.valueDescriptorMap)return this.valueDescriptorMap[e].name}stringMapKeyAdded(e,t){let n=this.valueDescriptorMap[t];this.hasValue(e)||this.invokeChangedCallback(e,n.writer(this.receiver[e]),n.writer(n.defaultValue))}stringMapValueChanged(e,t,n){let i=this.valueDescriptorNameMap[t];e!==null&&(n===null&&(n=i.writer(i.defaultValue)),this.invokeChangedCallback(t,e,n))}stringMapKeyRemoved(e,t,n){let i=this.valueDescriptorNameMap[e];this.hasValue(e)?this.invokeChangedCallback(e,i.writer(this.receiver[e]),n):this.invokeChangedCallback(e,i.writer(i.defaultValue),n)}invokeChangedCallbacksForDefaultValues(){for(let{key:e,name:t,defaultValue:n,writer:i}of this.valueDescriptors)n!=null&&!this.controller.data.has(e)&&this.invokeChangedCallback(t,i(n),void 0)}invokeChangedCallback(e,t,n){let i=`${e}Changed`,s=this.receiver[i];if(typeof s=="function"){let l=this.valueDescriptorNameMap[e];try{let c=l.reader(t),h=n;n&&(h=l.reader(n)),s.call(this.receiver,c,h)}catch(c){throw c instanceof TypeError&&(c.message=`Stimulus Value "${this.context.identifier}.${l.name}" - ${c.message}`),c}}}get valueDescriptors(){let{valueDescriptorMap:e}=this;return Object.keys(e).map(t=>e[t])}get valueDescriptorNameMap(){let e={};return Object.keys(this.valueDescriptorMap).forEach(t=>{let n=this.valueDescriptorMap[t];e[n.name]=n}),e}hasValue(e){let t=this.valueDescriptorNameMap[e],n=`has${Wt(t.name)}`;return this.receiver[n]}},xn=class{constructor(e,t){this.context=e,this.delegate=t,this.targetsByName=new Le}start(){this.tokenListObserver||(this.tokenListObserver=new Nr(this.element,this.attributeName,this),this.tokenListObserver.start())}stop(){this.tokenListObserver&&(this.disconnectAllTargets(),this.tokenListObserver.stop(),delete this.tokenListObserver)}tokenMatched({element:e,content:t}){this.scope.containsElement(e)&&this.connectTarget(e,t)}tokenUnmatched({element:e,content:t}){this.disconnectTarget(e,t)}connectTarget(e,t){var n;this.targetsByName.has(t,e)||(this.targetsByName.add(t,e),(n=this.tokenListObserver)===null||n===void 0||n.pause(()=>this.delegate.targetConnected(e,t)))}disconnectTarget(e,t){var n;this.targetsByName.has(t,e)&&(this.targetsByName.delete(t,e),(n=this.tokenListObserver)===null||n===void 0||n.pause(()=>this.delegate.targetDisconnected(e,t)))}disconnectAllTargets(){for(let e of this.targetsByName.keys)for(let t of this.targetsByName.getValuesForKey(e))this.disconnectTarget(t,e)}get attributeName(){return`data-${this.context.identifier}-target`}get element(){return this.context.element}get scope(){return this.context.scope}};function Gt(r,e){let t=Ko(r);return Array.from(t.reduce((n,i)=>(Gl(i,e).forEach(s=>n.add(s)),n),new Set))}function Wl(r,e){return Ko(r).reduce((n,i)=>(n.push(...Zl(i,e)),n),[])}function Ko(r){let e=[];for(;r;)e.push(r),r=Object.getPrototypeOf(r);return e.reverse()}function Gl(r,e){let t=r[e];return Array.isArray(t)?t:[]}function Zl(r,e){let t=r[e];return t?Object.keys(t).map(n=>[n,t[n]]):[]}var $n=class{constructor(e,t){this.started=!1,this.context=e,this.delegate=t,this.outletsByName=new Le,this.outletElementsByName=new Le,this.selectorObserverMap=new Map,this.attributeObserverMap=new Map}start(){this.started||(this.outletDefinitions.forEach(e=>{this.setupSelectorObserverForOutlet(e),this.setupAttributeObserverForOutlet(e)}),this.started=!0,this.dependentContexts.forEach(e=>e.refresh()))}refresh(){this.selectorObserverMap.forEach(e=>e.refresh()),this.attributeObserverMap.forEach(e=>e.refresh())}stop(){this.started&&(this.started=!1,this.disconnectAllOutlets(),this.stopSelectorObservers(),this.stopAttributeObservers())}stopSelectorObservers(){this.selectorObserverMap.size>0&&(this.selectorObserverMap.forEach(e=>e.stop()),this.selectorObserverMap.clear())}stopAttributeObservers(){this.attributeObserverMap.size>0&&(this.attributeObserverMap.forEach(e=>e.stop()),this.attributeObserverMap.clear())}selectorMatched(e,t,{outletName:n}){let i=this.getOutlet(e,n);i&&this.connectOutlet(i,e,n)}selectorUnmatched(e,t,{outletName:n}){let i=this.getOutletFromMap(e,n);i&&this.disconnectOutlet(i,e,n)}selectorMatchElement(e,{outletName:t}){let n=this.selector(t),i=this.hasOutlet(e,t),s=e.matches(`[${this.schema.controllerAttribute}~=${t}]`);return n?i&&s&&e.matches(n):!1}elementMatchedAttribute(e,t){let n=this.getOutletNameFromOutletAttributeName(t);n&&this.updateSelectorObserverForOutlet(n)}elementAttributeValueChanged(e,t){let n=this.getOutletNameFromOutletAttributeName(t);n&&this.updateSelectorObserverForOutlet(n)}elementUnmatchedAttribute(e,t){let n=this.getOutletNameFromOutletAttributeName(t);n&&this.updateSelectorObserverForOutlet(n)}connectOutlet(e,t,n){var i;this.outletElementsByName.has(n,t)||(this.outletsByName.add(n,e),this.outletElementsByName.add(n,t),(i=this.selectorObserverMap.get(n))===null||i===void 0||i.pause(()=>this.delegate.outletConnected(e,t,n)))}disconnectOutlet(e,t,n){var i;this.outletElementsByName.has(n,t)&&(this.outletsByName.delete(n,e),this.outletElementsByName.delete(n,t),(i=this.selectorObserverMap.get(n))===null||i===void 0||i.pause(()=>this.delegate.outletDisconnected(e,t,n)))}disconnectAllOutlets(){for(let e of this.outletElementsByName.keys)for(let t of this.outletElementsByName.getValuesForKey(e))for(let n of this.outletsByName.getValuesForKey(e))this.disconnectOutlet(n,t,e)}updateSelectorObserverForOutlet(e){let t=this.selectorObserverMap.get(e);t&&(t.selector=this.selector(e))}setupSelectorObserverForOutlet(e){let t=this.selector(e),n=new yn(document.body,t,this,{outletName:e});this.selectorObserverMap.set(e,n),n.start()}setupAttributeObserverForOutlet(e){let t=this.attributeNameForOutletName(e),n=new Tr(this.scope.element,t,this);this.attributeObserverMap.set(e,n),n.start()}selector(e){return this.scope.outlets.getSelectorForOutletName(e)}attributeNameForOutletName(e){return this.scope.schema.outletAttributeForScope(this.identifier,e)}getOutletNameFromOutletAttributeName(e){return this.outletDefinitions.find(t=>this.attributeNameForOutletName(t)===e)}get outletDependencies(){let e=new Le;return this.router.modules.forEach(t=>{let n=t.definition.controllerConstructor;Gt(n,"outlets").forEach(s=>e.add(s,t.identifier))}),e}get outletDefinitions(){return this.outletDependencies.getKeysForValue(this.identifier)}get dependentControllerIdentifiers(){return this.outletDependencies.getValuesForKey(this.identifier)}get dependentContexts(){let e=this.dependentControllerIdentifiers;return this.router.contexts.filter(t=>e.includes(t.identifier))}hasOutlet(e,t){return!!this.getOutlet(e,t)||!!this.getOutletFromMap(e,t)}getOutlet(e,t){return this.application.getControllerForElementAndIdentifier(e,t)}getOutletFromMap(e,t){return this.outletsByName.getValuesForKey(t).find(n=>n.element===e)}get scope(){return this.context.scope}get schema(){return this.context.schema}get identifier(){return this.context.identifier}get application(){return this.context.application}get router(){return this.application.router}},On=class{constructor(e,t){this.logDebugActivity=(n,i={})=>{let{identifier:s,controller:l,element:c}=this;i=Object.assign({identifier:s,controller:l,element:c},i),this.application.logDebugActivity(this.identifier,n,i)},this.module=e,this.scope=t,this.controller=new e.controllerConstructor(this),this.bindingObserver=new En(this,this.dispatcher),this.valueObserver=new An(this,this.controller),this.targetObserver=new xn(this,this),this.outletObserver=new $n(this,this);try{this.controller.initialize(),this.logDebugActivity("initialize")}catch(n){this.handleError(n,"initializing controller")}}connect(){this.bindingObserver.start(),this.valueObserver.start(),this.targetObserver.start(),this.outletObserver.start();try{this.controller.connect(),this.logDebugActivity("connect")}catch(e){this.handleError(e,"connecting controller")}}refresh(){this.outletObserver.refresh()}disconnect(){try{this.controller.disconnect(),this.logDebugActivity("disconnect")}catch(e){this.handleError(e,"disconnecting controller")}this.outletObserver.stop(),this.targetObserver.stop(),this.valueObserver.stop(),this.bindingObserver.stop()}get application(){return this.module.application}get identifier(){return this.module.identifier}get schema(){return this.application.schema}get dispatcher(){return this.application.dispatcher}get element(){return this.scope.element}get parentElement(){return this.element.parentElement}handleError(e,t,n={}){let{identifier:i,controller:s,element:l}=this;n=Object.assign({identifier:i,controller:s,element:l},n),this.application.handleError(e,`Error ${t}`,n)}targetConnected(e,t){this.invokeControllerMethod(`${t}TargetConnected`,e)}targetDisconnected(e,t){this.invokeControllerMethod(`${t}TargetDisconnected`,e)}outletConnected(e,t,n){this.invokeControllerMethod(`${gn(n)}OutletConnected`,e,t)}outletDisconnected(e,t,n){this.invokeControllerMethod(`${gn(n)}OutletDisconnected`,e,t)}invokeControllerMethod(e,...t){let n=this.controller;typeof n[e]=="function"&&n[e](...t)}};function Jl(r){return Yl(r,Xl(r))}function Yl(r,e){let t=rc(r),n=Ql(r.prototype,e);return Object.defineProperties(t.prototype,n),t}function Xl(r){return Gt(r,"blessings").reduce((t,n)=>{let i=n(r);for(let s in i){let l=t[s]||{};t[s]=Object.assign(l,i[s])}return t},{})}function Ql(r,e){return tc(e).reduce((t,n)=>{let i=ec(r,e,n);return i&&Object.assign(t,{[n]:i}),t},{})}function ec(r,e,t){let n=Object.getOwnPropertyDescriptor(r,t);if(!(n&&"value"in n)){let s=Object.getOwnPropertyDescriptor(e,t).value;return n&&(s.get=n.get||s.get,s.set=n.set||s.set),s}}var tc=typeof Object.getOwnPropertySymbols=="function"?r=>[...Object.getOwnPropertyNames(r),...Object.getOwnPropertySymbols(r)]:Object.getOwnPropertyNames,rc=(()=>{function r(t){function n(){return Reflect.construct(t,arguments,new.target)}return n.prototype=Object.create(t.prototype,{constructor:{value:n}}),Reflect.setPrototypeOf(n,t),n}function e(){let n=r(function(){this.a.call(this)});return n.prototype.a=function(){},new n}try{return e(),r}catch{return n=>class extends n{}}})();function nc(r){return{identifier:r.identifier,controllerConstructor:Jl(r.controllerConstructor)}}var Cn=class{constructor(e,t){this.application=e,this.definition=nc(t),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}get identifier(){return this.definition.identifier}get controllerConstructor(){return this.definition.controllerConstructor}get contexts(){return Array.from(this.connectedContexts)}connectContextForScope(e){let t=this.fetchContextForScope(e);this.connectedContexts.add(t),t.connect()}disconnectContextForScope(e){let t=this.contextsByScope.get(e);t&&(this.connectedContexts.delete(t),t.disconnect())}fetchContextForScope(e){let t=this.contextsByScope.get(e);return t||(t=new On(this,e),this.contextsByScope.set(e,t)),t}},kn=class{constructor(e){this.scope=e}has(e){return this.data.has(this.getDataKey(e))}get(e){return this.getAll(e)[0]}getAll(e){let t=this.data.get(this.getDataKey(e))||"";return Vl(t)}getAttributeName(e){return this.data.getAttributeNameForKey(this.getDataKey(e))}getDataKey(e){return`${e}-class`}get data(){return this.scope.data}},Tn=class{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get(e){let t=this.getAttributeNameForKey(e);return this.element.getAttribute(t)}set(e,t){let n=this.getAttributeNameForKey(e);return this.element.setAttribute(n,t),this.get(e)}has(e){let t=this.getAttributeNameForKey(e);return this.element.hasAttribute(t)}delete(e){if(this.has(e)){let t=this.getAttributeNameForKey(e);return this.element.removeAttribute(t),!0}else return!1}getAttributeNameForKey(e){return`data-${this.identifier}-${Po(e)}`}},Nn=class{constructor(e){this.warnedKeysByObject=new WeakMap,this.logger=e}warn(e,t,n){let i=this.warnedKeysByObject.get(e);i||(i=new Set,this.warnedKeysByObject.set(e,i)),i.has(t)||(i.add(t),this.logger.warn(n,e))}};function Mn(r,e){return`[${r}~="${e}"]`}var Fn=class{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((t,n)=>t||this.findTarget(n)||this.findLegacyTarget(n),void 0)}findAll(...e){return e.reduce((t,n)=>[...t,...this.findAllTargets(n),...this.findAllLegacyTargets(n)],[])}findTarget(e){let t=this.getSelectorForTargetName(e);return this.scope.findElement(t)}findAllTargets(e){let t=this.getSelectorForTargetName(e);return this.scope.findAllElements(t)}getSelectorForTargetName(e){let t=this.schema.targetAttributeForScope(this.identifier);return Mn(t,e)}findLegacyTarget(e){let t=this.getLegacySelectorForTargetName(e);return this.deprecate(this.scope.findElement(t),e)}findAllLegacyTargets(e){let t=this.getLegacySelectorForTargetName(e);return this.scope.findAllElements(t).map(n=>this.deprecate(n,e))}getLegacySelectorForTargetName(e){let t=`${this.identifier}.${e}`;return Mn(this.schema.targetAttribute,t)}deprecate(e,t){if(e){let{identifier:n}=this,i=this.schema.targetAttribute,s=this.schema.targetAttributeForScope(n);this.guide.warn(e,`target:${t}`,`Please replace ${i}="${n}.${t}" with ${s}="${t}". The ${i} attribute is deprecated and will be removed in a future version of Stimulus.`)}return e}get guide(){return this.scope.guide}},Sn=class{constructor(e,t){this.scope=e,this.controllerElement=t}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((t,n)=>t||this.findOutlet(n),void 0)}findAll(...e){return e.reduce((t,n)=>[...t,...this.findAllOutlets(n)],[])}getSelectorForOutletName(e){let t=this.schema.outletAttributeForScope(this.identifier,e);return this.controllerElement.getAttribute(t)}findOutlet(e){let t=this.getSelectorForOutletName(e);if(t)return this.findElement(t,e)}findAllOutlets(e){let t=this.getSelectorForOutletName(e);return t?this.findAllElements(t,e):[]}findElement(e,t){return this.scope.queryElements(e).filter(i=>this.matchesElement(i,e,t))[0]}findAllElements(e,t){return this.scope.queryElements(e).filter(i=>this.matchesElement(i,e,t))}matchesElement(e,t,n){let i=e.getAttribute(this.scope.schema.controllerAttribute)||"";return e.matches(t)&&i.split(" ").includes(n)}},Dn=class r{constructor(e,t,n,i){this.targets=new Fn(this),this.classes=new kn(this),this.data=new Tn(this),this.containsElement=s=>s.closest(this.controllerSelector)===this.element,this.schema=e,this.element=t,this.identifier=n,this.guide=new Nn(i),this.outlets=new Sn(this.documentScope,t)}findElement(e){return this.element.matches(e)?this.element:this.queryElements(e).find(this.containsElement)}findAllElements(e){return[...this.element.matches(e)?[this.element]:[],...this.queryElements(e).filter(this.containsElement)]}queryElements(e){return Array.from(this.element.querySelectorAll(e))}get controllerSelector(){return Mn(this.schema.controllerAttribute,this.identifier)}get isDocumentScope(){return this.element===document.documentElement}get documentScope(){return this.isDocumentScope?this:new r(this.schema,document.documentElement,this.identifier,this.guide.logger)}},Ln=class{constructor(e,t,n){this.element=e,this.schema=t,this.delegate=n,this.valueListObserver=new Mr(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}start(){this.valueListObserver.start()}stop(){this.valueListObserver.stop()}get controllerAttribute(){return this.schema.controllerAttribute}parseValueForToken(e){let{element:t,content:n}=e;return this.parseValueForElementAndIdentifier(t,n)}parseValueForElementAndIdentifier(e,t){let n=this.fetchScopesByIdentifierForElement(e),i=n.get(t);return i||(i=this.delegate.createScopeForElementAndIdentifier(e,t),n.set(t,i)),i}elementMatchedValue(e,t){let n=(this.scopeReferenceCounts.get(t)||0)+1;this.scopeReferenceCounts.set(t,n),n==1&&this.delegate.scopeConnected(t)}elementUnmatchedValue(e,t){let n=this.scopeReferenceCounts.get(t);n&&(this.scopeReferenceCounts.set(t,n-1),n==1&&this.delegate.scopeDisconnected(t))}fetchScopesByIdentifierForElement(e){let t=this.scopesByIdentifierByElement.get(e);return t||(t=new Map,this.scopesByIdentifierByElement.set(e,t)),t}},In=class{constructor(e){this.application=e,this.scopeObserver=new Ln(this.element,this.schema,this),this.scopesByIdentifier=new Le,this.modulesByIdentifier=new Map}get element(){return this.application.element}get schema(){return this.application.schema}get logger(){return this.application.logger}get controllerAttribute(){return this.schema.controllerAttribute}get modules(){return Array.from(this.modulesByIdentifier.values())}get contexts(){return this.modules.reduce((e,t)=>e.concat(t.contexts),[])}start(){this.scopeObserver.start()}stop(){this.scopeObserver.stop()}loadDefinition(e){this.unloadIdentifier(e.identifier);let t=new Cn(this.application,e);this.connectModule(t);let n=e.controllerConstructor.afterLoad;n&&n.call(e.controllerConstructor,e.identifier,this.application)}unloadIdentifier(e){let t=this.modulesByIdentifier.get(e);t&&this.disconnectModule(t)}getContextForElementAndIdentifier(e,t){let n=this.modulesByIdentifier.get(t);if(n)return n.contexts.find(i=>i.element==e)}proposeToConnectScopeForElementAndIdentifier(e,t){let n=this.scopeObserver.parseValueForElementAndIdentifier(e,t);n?this.scopeObserver.elementMatchedValue(n.element,n):console.error(`Couldn't find or create scope for identifier: "${t}" and element:`,e)}handleError(e,t,n){this.application.handleError(e,t,n)}createScopeForElementAndIdentifier(e,t){return new Dn(this.schema,e,t,this.logger)}scopeConnected(e){this.scopesByIdentifier.add(e.identifier,e);let t=this.modulesByIdentifier.get(e.identifier);t&&t.connectContextForScope(e)}scopeDisconnected(e){this.scopesByIdentifier.delete(e.identifier,e);let t=this.modulesByIdentifier.get(e.identifier);t&&t.disconnectContextForScope(e)}connectModule(e){this.modulesByIdentifier.set(e.identifier,e),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(n=>e.connectContextForScope(n))}disconnectModule(e){this.modulesByIdentifier.delete(e.identifier),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(n=>e.disconnectContextForScope(n))}},ic={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target",targetAttributeForScope:r=>`data-${r}-target`,outletAttributeForScope:(r,e)=>`data-${r}-${e}-outlet`,keyMappings:Object.assign(Object.assign({enter:"Enter",tab:"Tab",esc:"Escape",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End",page_up:"PageUp",page_down:"PageDown"},Io("abcdefghijklmnopqrstuvwxyz".split("").map(r=>[r,r]))),Io("0123456789".split("").map(r=>[r,r])))};function Io(r){return r.reduce((e,[t,n])=>Object.assign(Object.assign({},e),{[t]:n}),{})}var Fr=class{constructor(e=document.documentElement,t=ic){this.logger=console,this.debug=!1,this.logDebugActivity=(n,i,s={})=>{this.debug&&this.logFormattedMessage(n,i,s)},this.element=e,this.schema=t,this.dispatcher=new pn(this),this.router=new In(this),this.actionDescriptorFilters=Object.assign({},Sl)}static start(e,t){let n=new this(e,t);return n.start(),n}async start(){await oc(),this.logDebugActivity("application","starting"),this.dispatcher.start(),this.router.start(),this.logDebugActivity("application","start")}stop(){this.logDebugActivity("application","stopping"),this.dispatcher.stop(),this.router.stop(),this.logDebugActivity("application","stop")}register(e,t){this.load({identifier:e,controllerConstructor:t})}registerActionOption(e,t){this.actionDescriptorFilters[e]=t}load(e,...t){(Array.isArray(e)?e:[e,...t]).forEach(i=>{i.controllerConstructor.shouldLoad&&this.router.loadDefinition(i)})}unload(e,...t){(Array.isArray(e)?e:[e,...t]).forEach(i=>this.router.unloadIdentifier(i))}get controllers(){return this.router.contexts.map(e=>e.controller)}getControllerForElementAndIdentifier(e,t){let n=this.router.getContextForElementAndIdentifier(e,t);return n?n.controller:null}handleError(e,t,n){var i;this.logger.error(`%s

%o

%o`,t,e,n),(i=window.onerror)===null||i===void 0||i.call(window,t,"",0,0,e)}logFormattedMessage(e,t,n={}){n=Object.assign({application:this},n),this.logger.groupCollapsed(`${e} #${t}`),this.logger.log("details:",Object.assign({},n)),this.logger.groupEnd()}};function oc(){return new Promise(r=>{document.readyState=="loading"?document.addEventListener("DOMContentLoaded",()=>r()):r()})}function sc(r){return Gt(r,"classes").reduce((t,n)=>Object.assign(t,ac(n)),{})}function ac(r){return{[`${r}Class`]:{get(){let{classes:e}=this;if(e.has(r))return e.get(r);{let t=e.getAttributeName(r);throw new Error(`Missing attribute "${t}"`)}}},[`${r}Classes`]:{get(){return this.classes.getAll(r)}},[`has${Wt(r)}Class`]:{get(){return this.classes.has(r)}}}}function lc(r){return Gt(r,"outlets").reduce((t,n)=>Object.assign(t,cc(n)),{})}function Bo(r,e,t){return r.application.getControllerForElementAndIdentifier(e,t)}function Ro(r,e,t){let n=Bo(r,e,t);if(n||(r.application.router.proposeToConnectScopeForElementAndIdentifier(e,t),n=Bo(r,e,t),n))return n}function cc(r){let e=gn(r);return{[`${e}Outlet`]:{get(){let t=this.outlets.find(r),n=this.outlets.getSelectorForOutletName(r);if(t){let i=Ro(this,t,r);if(i)return i;throw new Error(`The provided outlet element is missing an outlet controller "${r}" instance for host controller "${this.identifier}"`)}throw new Error(`Missing outlet element "${r}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${n}".`)}},[`${e}Outlets`]:{get(){let t=this.outlets.findAll(r);return t.length>0?t.map(n=>{let i=Ro(this,n,r);if(i)return i;console.warn(`The provided outlet element is missing an outlet controller "${r}" instance for host controller "${this.identifier}"`,n)}).filter(n=>n):[]}},[`${e}OutletElement`]:{get(){let t=this.outlets.find(r),n=this.outlets.getSelectorForOutletName(r);if(t)return t;throw new Error(`Missing outlet element "${r}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${n}".`)}},[`${e}OutletElements`]:{get(){return this.outlets.findAll(r)}},[`has${Wt(e)}Outlet`]:{get(){return this.outlets.has(r)}}}}function uc(r){return Gt(r,"targets").reduce((t,n)=>Object.assign(t,hc(n)),{})}function hc(r){return{[`${r}Target`]:{get(){let e=this.targets.find(r);if(e)return e;throw new Error(`Missing target element "${r}" for "${this.identifier}" controller`)}},[`${r}Targets`]:{get(){return this.targets.findAll(r)}},[`has${Wt(r)}Target`]:{get(){return this.targets.has(r)}}}}function dc(r){let e=Wl(r,"values"),t={valueDescriptorMap:{get(){return e.reduce((n,i)=>{let s=qo(i,this.identifier),l=this.data.getAttributeNameForKey(s.key);return Object.assign(n,{[l]:s})},{})}}};return e.reduce((n,i)=>Object.assign(n,fc(i)),t)}function fc(r,e){let t=qo(r,e),{key:n,name:i,reader:s,writer:l}=t;return{[i]:{get(){let c=this.data.get(n);return c!==null?s(c):t.defaultValue},set(c){c===void 0?this.data.delete(n):this.data.set(n,l(c))}},[`has${Wt(i)}`]:{get(){return this.data.has(n)||t.hasCustomDefaultValue}}}}function qo([r,e],t){return vc({controller:t,token:r,typeDefinition:e})}function Sr(r){switch(r){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function Ht(r){switch(typeof r){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}if(Array.isArray(r))return"array";if(Object.prototype.toString.call(r)==="[object Object]")return"object"}function pc(r){let{controller:e,token:t,typeObject:n}=r,i=So(n.type),s=So(n.default),l=i&&s,c=i&&!s,h=!i&&s,d=Sr(n.type),m=Ht(r.typeObject.default);if(c)return d;if(h)return m;if(d!==m){let f=e?`${e}.${t}`:t;throw new Error(`The specified default value for the Stimulus Value "${f}" must match the defined type "${d}". The provided default value of "${n.default}" is of type "${m}".`)}if(l)return d}function gc(r){let{controller:e,token:t,typeDefinition:n}=r,s=pc({controller:e,token:t,typeObject:n}),l=Ht(n),c=Sr(n),h=s||l||c;if(h)return h;let d=e?`${e}.${n}`:t;throw new Error(`Unknown value type "${d}" for "${t}" value`)}function mc(r){let e=Sr(r);if(e)return Vo[e];let t=mn(r,"default"),n=mn(r,"type"),i=r;if(t)return i.default;if(n){let{type:s}=i,l=Sr(s);if(l)return Vo[l]}return r}function vc(r){let{token:e,typeDefinition:t}=r,n=`${Po(e)}-value`,i=gc(r);return{type:i,key:n,name:Bn(n),get defaultValue(){return mc(t)},get hasCustomDefaultValue(){return Ht(t)!==void 0},reader:bc[i],writer:_o[i]||_o.default}}var Vo={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},bc={array(r){let e=JSON.parse(r);if(!Array.isArray(e))throw new TypeError(`expected value of type "array" but instead got value "${r}" of type "${Ht(e)}"`);return e},boolean(r){return!(r=="0"||String(r).toLowerCase()=="false")},number(r){return Number(r.replace(/_/g,""))},object(r){let e=JSON.parse(r);if(e===null||typeof e!="object"||Array.isArray(e))throw new TypeError(`expected value of type "object" but instead got value "${r}" of type "${Ht(e)}"`);return e},string(r){return r}},_o={default:yc,array:jo,object:jo};function jo(r){return JSON.stringify(r)}function yc(r){return`${r}`}var Ne=class{constructor(e){this.context=e}static get shouldLoad(){return!0}static afterLoad(e,t){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(e,{target:t=this.element,detail:n={},prefix:i=this.identifier,bubbles:s=!0,cancelable:l=!0}={}){let c=i?`${i}:${e}`:e,h=new CustomEvent(c,{detail:n,bubbles:s,cancelable:l});return t.dispatchEvent(h),h}};Ne.blessings=[sc,uc,dc,lc];Ne.targets=[];Ne.outlets=[];Ne.values={};var Rn=Fr.start();Rn.register("navigation",class extends Ne{static get targets(){return["button"]}connect(){this.element.addEventListener("keydown",this.trapEscape.bind(this))}trapEscape(r){r.key==="Escape"&&this.close()}switch(){this.buttonTarget.getAttribute("aria-expanded")==="true"?this.buttonTarget.setAttribute("aria-expanded","false"):this.buttonTarget.setAttribute("aria-expanded","true")}close(){this.buttonTarget.setAttribute("aria-expanded","false"),this.buttonTarget.focus()}});Rn.register("profile",class extends Ne{static get targets(){return["sectionNatural","sectionLegal","firstName","lastName","legalName","controlAddress"]}initialize(){this.switchAddressForNode(this.controlAddressTarget);let r=document.querySelector('input[name="entity_type"][checked]');this.switchEntityTypeForNode(r)}switchAddress(r){this.switchAddressForNode(r.target)}switchAddressForNode(r){let e=document.querySelector("#address");e.hidden=!r.checked}switchEntityType(r){this.switchEntityTypeForNode(r.target)}switchEntityTypeForNode(r){r.value==="natural"?(this.sectionNaturalTarget.hidden=!1,this.sectionLegalTarget.hidden=!0,this.firstNameTarget.required=!0,this.lastNameTarget.required=!0,this.legalNameTarget.required=!1,this.controlAddressTarget.checked=this.controlAddressTarget.defaultChecked,this.controlAddressTarget.hidden=!1):(this.sectionNaturalTarget.hidden=!0,this.sectionLegalTarget.hidden=!1,this.firstNameTarget.required=!1,this.lastNameTarget.required=!1,this.legalNameTarget.required=!0,this.controlAddressTarget.checked=!0,this.controlAddressTarget.hidden=!0),this.switchAddressForNode(this.controlAddressTarget)}});Rn.register("amount-selector",class extends Ne{static get targets(){return["amount","radio","totalAmount"]}initialize(){let r=this.data.get("initialAmount");this.setAmount(r)}setAmount(r){let e=this.amountTarget;e.value=r,this.refreshTotalAmount()}select(r){let e=r.target;this.setAmount(e.dataset.value)}change(r){this.radioTargets.forEach(function(e){e.checked=!1}),this.refreshTotalAmount()}refreshTotalAmount(){if(this.totalAmountTarget){let r=parseInt(this.amountTarget.value,10),e=parseInt(this.data.get("countAccounts"),10);this.totalAmountTarget.innerHTML=r*e}}});})();
//# sourceMappingURL=application.js.map
